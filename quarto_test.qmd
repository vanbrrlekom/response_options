---
title: "Toward Inclusive Research: The Effect of Response Options on Gender Categorization of Faces"

bibliography: "r-references.bib"
comments: 
  hypothesis: true
abstract: "Gender is not a binary category, yet much of gender categorization research continues to treat it as such in terms of response options. This study comprises two experiments that challenge the binary gender norm  by exploring alternative response options to measure gender categorization. In Experiment 1 (N = 6), we compared one-dimensional and two-dimensional scales for gender categorization of a diverse set of morphed faces. We found that regardless of the response options used, participants treated gender categorically, consistently using the ends of dimensional scales. In Experiment 2 (N = 105) we compared traditional binary response options with multiple categories and free-text answers. The results suggested that while non-binary options such as \"non-binary\" and \"I don't know\" led to categorizations beyond the binary framework in about half of the participants, free-text options did not elicit similar results. Despite the opportunity to categorize faces beyond the binary, the predominant categorizations remained as 'woman' or 'man'. We conclude that while inclusive response options can facilitate acknowledgment of gender diversity, they do not fundamentally alter the binary perception of gender."

author:
  - name: Elli van Berlekom
    corresponding: true
    orcid: 0000-0002-1949-5600
    email: elli.vanberlekom@psychology.su.se
    affiliations:
      - name: Stockholm University
        department: Psychology Department
  - name: Stefan Wiens
    orcid: 0000-0003-4531-4313
    affiliations:
      - name: Stockholm University
        department: Psychology Department
  - name: Marie Gustafsson Sendén
    orcid: 0000-0002-8393-5316
    affiliations:
      - name: Stockholm University
        department: Psychology Department
author-note:
  disclosures:
    conflict of interest: The author has no conflict of interest to declare.
format:
  apaquarto-html: default
  apaquarto-docx: default

date: "`r format(Sys.time(), '%B %d, %Y')`"
---

```{r setup,warning = FALSE, message = FALSE}
library("papaja")
library(brms)
library(tidyverse)
citations <- r_refs("r-references.bib")

library(brms)
library(tidyverse)
source("src/functions.r")
d <-  read.csv("data/data.csv") %>% 
    mutate(across(!starts_with("Gender"), as.character)) %>% 
    mutate(id = 1:nrow(.)) %>% 
    #arrange(condition.1) %>% 
    pivot_longer(
      cols = !c(id, Age_1, starts_with("Gender"), starts_with("choose"), contains("assign"), starts_with("Prolific"), starts_with("TIME")),
      names_to = "face",
      values_to = "categorization") %>% 
    #separate(face, c("condition", "face", "morph", "scale")) %>% 
   select(id, face, categorization, Age_1, Gender_1, starts_with("Gender")) %>% 
   filter(!categorization == "") %>%   
    separate(face, c("condition", "face", "morph", "scale")) %>% 
    mutate(race = substr(face, 1,1),
           masc = recode(morph, "0" = "0", "1" = "16.67", "2"= "33.33","3" = "50",
                         "4" = "66.67", "5" ="83.33", "6" =  "100")) %>% 
    mutate(masc = as.numeric(masc)) %>% 
    mutate(masc = ifelse(race != "w", masc, 100 - masc)) %>% 
  mutate(fem = 100 - masc) %>% 
  filter(id !=125)
  


```

```{r analysis-preferences}
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
```

Many transgender and nonbinary (TNB) people experience gender as flexible, fluid, diffuse, and not bounded by the typical binary of women and men [@hydeFutureSexGender2018; @richardsNonbinaryGenderqueerGenders2016]. Unlike cisgender people - who identify with their assigned gender at birth - transgender people identify with a gender different from their assigned sex at birth [@levittBeingTransgenderExperience2014]. Moreover, many transgender people identify as nonbinary, which can be either an identity in and of itself or an umbrella term for a wide variety of gender identities other than woman or man (e.g. genderqueer, agender, genderfluid) [@monroNonbinaryGenderqueerOverview2019].

In surveys and questionnaires that measure gender identity, however, gender has traditionally been constructed as a binary, where response options are limited to the categories of woman/female and man/male [@sapersteinCategoricalGradationalAlternative2021]. Thus, these limited response options ignore TNB identities [@ansaraMethodologiesMisgenderingRecommendations2014]. Recently, psychologists have been encouraged to include a wider range of response options beyond woman and man, such as  "genderqueer" and "agender", [@sapersteinCategoricalGradationalAlternative2021] or use free text options [@lindqvistWhatGenderAnyway2020]. As awareness of gender diversity is increasing, it is increasingly common to see studies including gender options beyond woman and man [see @carletonAssessingImpactRoyal2022; @croninYoungerGenerationsAre2022; @dagostinoOrganizationalPracticesSecondGeneration2022 for some recent examples]. Research on gender categorization of others, however, is still dominated by binary response options [eg. @campanellaCategoricalPerceptionFacial2001; @habibiSpontaneousGenderCategorization2012; @jungAutomaticityGenderCategorization2019].

## Two Challenges to the Gender Binary

An early challenge to the norm of binary measurement of gender in psychology came from Sandra Bem in the ´70s [@bemMEASUREMENTPSYCHOLOGICALANDROGYNY1974]. She devised a scale that measured gender as a psychological trait, treating femininity and masculinity as two separate constructs. This scale allowed for combinations of gender which challenged previous binary conceptions. Such combinations included *androgynous*, which meant scoring high on both femininity and masculinity; and *agender*, which meant scoring low on both. Characteristically for research of its time, Bem still largely accepted the binary gender framework. In treating gender as a psychological trait rather than an identity, for example, the BSRI implicitly assumed all respondents were women or men.

A later group of challenges to the gender binary in psychology emerged in the 2010s and onward. These challenges, often drawing from feminist and queer scholarship [e.g. @butlerGenderTroubleFeminism1999], were explicit about the need for psychology to include trans and non-binary gender identities [@hydeFutureSexGender2018; @morgenrothGenderTroubleSocial2018; @richardsNonbinaryGenderqueerGenders2016]. @sapersteinCategoricalGradationalAlternative2021\] suggested that surveys measuring gender include a range of response options, such as non-binary, other, trans man, agender, and more. @lindqvistWhatGenderAnyway2020 suggested an open text entry where participants can fill in their gender in an open-ended format. The free text response has the advantage of being completely unconstrained, allowing participants to enter any category, including categories which may not have occurred to the researchers. Moreover, the acceptable terms sometimes shift over time, as more marginalized voices are heard. The term *transsexual* for example, has been widely used and seen as acceptable, but is now understood to be stigmatizing (APA manual). A free text avoids this issue.

Historically, research in psychology primarily suggested ways to measure respondents' own gender identity. This emphasis is understandable as gender identity is a commonly reported demographic variable. But gender is frequently also measured in terms of participants' categorizations of others. Because self-categorization and categorization of others are different processes the best measurement of self-categorization may not be the best measurement of the categorization of others.

## Measuring gender categorization of others

Research on how people perceive and categorize the gender of others has used both dimensional scales as well as discrete categories. It is fairly common, for example, to use the one-dimensional approach, where participants rate the gender of others as a single dimension, from masculine to feminine. Much of this research explores evolutionary and other reasons for gender in faces, correlating one-dimensional categorization of facial gender with other traits, such as attractiveness [@littleRoleMasculinityDistinctiveness2002], and distinctiveness [@otoolePerceptionFaceGender1998].

Another common approach tasks people to categorize faces according to a set of response options decided by the researchers, almost invariably woman and man. Studies using this method have shown that people rapidly and automatically categorize gender [@habibiSpontaneousGenderCategorization2012; @jungAutomaticityGenderCategorization2019]. This, in turn, indicates that gender is a salient category that determines how people evaluate others on traits, such as agreeableness, dominance, etc [@stolierNeuralMechanismSocial2017].

Moreover, participants categorize faces categorically [@campanellaCategoricalPerceptionFacial2001]. This phenomenon has been observed when participants categorize faces that have been morphed to vary from feminine to masculine. Although a 60% female morph contains only slightly more female than male features, most participants categorized this female morph as female [@campanellaCategoricalPerceptionFacial2001]. Such categorical effects for continuous stimuli in any domain suggest that people treat that domain as consisting of separate categories [@simanovaLinguisticPriorsShape2016]. The observation of a categorical effect for gender therefore suggests that people treat gender as a strict binary consisting of women and men only.

However, this research has rarely considered the risk that the structure of response options could communicate certain ideas about gender to participants. A one-dimensional scale implies that gender can vary on a continuum. It also places masculinity and femininity at the endpoints of the scales, so that a higher rating of femininity is by definition a lower rating of masculinity. This implies that someone cannot embody femininity and masculinity at the same time, indeed, that the two concepts are opposites. Binary response options consisting of woman/female and man/male only suggest that those are the only two categories that exist. On the other hand, two-dimensional scales and categories that include non-binary response options suggest the opposite, that femininity and masculinity are not mutually exclusive and that a multiplicity of genders exists. In other words, no matter which type of response options are used, ideas are being communicated to participants, potentially influencing their responses. Most recommendations suggest taking great care not to influence participants [@nicholsGoodSubjectEffectInvestigating2008], but the effects of gender response options are rarely considered.

Another aspect of gender categorizations of others is that complete certainty is not possible. This is because many trans and non-binary individuals are not androgynous in their gender expression [@richardsNonbinaryGenderqueerGenders2016]. Therefore, if a person aims to be inclusive, abstaining from categorizing until more information is available is always the safest option when categorizing others. However, this aspect of gender categorization has received very little attention from researchers.

The purpose of Study 1 was to test the influence of one and two-dimensional response options by on categorical responses. Drawing inspiration from @bemMEASUREMENTPSYCHOLOGICALANDROGYNY1974 we compare gender categorization measured using one-dimensional response options (ranging from woman to man) and two-dimensional response options. A categorical effect suggests participants treat gender as consisting of only two categories: women and men. Accordingly, a reduction in this effect would suggest participants take a more expansive view of gender. We tested two research questions; would participants respond categorically to faces (Research Question 1) and would a one-dimensional rating scale elicit stronger categorical responses than two-dimensional (Research Question 2)?

The purpose of Study 2 was to investigate categorization using non-binary gender response options. We included multiple categories beyond women and men, as suggested by for example Saperstein and Westbrook (2021) and we also included a free text as suggested by Lindqvist and colleagues (2019). Study 2 was mainly interested in how the two non-binary options compared in terms of responses other than women and men (Research Question 3). As non-binary options have been promoted by feminist and LGBTQ+ activists, their inclusion might have more generalized effects on binary categorization. Therefore, study 2 also investigated the categorization of women and men (Research Question 4).

# Study 1

## Method

### Participants

```{r}
# Get subjects information
subs <- d %>%
  filter(condition == "md" | condition == "sd" ) %>% 
  mutate(age = as.numeric(Age_1),
         gender = substr(Gender_1, 1,1) ) %>% 
  count(id, age, gender, condition)

```

Swedish participants (*N* = `r length(subs$id)`) took part in the study in the lab at the Stockholm University campus (*M*~age~= `r mean(subs$age, na.rm = TRUE) %>% round(2)`, *SD*~age~ = `r sd(subs$age, na.rm = TRUE) %>% round(2)`, Range = `r min(subs$age, na.rm = TRUE)` - `r max(subs$age, na.rm = TRUE)`). Participants included 33 women, 35 men, and 2 participants who did not indicate gender [self-identified gender was measured using an open-ended text box, following, @lindqvistWhatGenderAnyway2020]). Participants were randomly allocated into one of the two response option conditions (*N*~control~ = `r sum(subs$condition == "sd")`, *N*~experimental~ = `r sum(subs$condition == "md")`). Participants were monetarily compensated for their time (100 sek). In accordance with the Helsinki declaration, all participants were informed that participation was voluntary and gave written consent to participate in the study.

### Stimuli

The experiment included Black, Asian, and White faces from the London Face Database [@debruineFaceResearchLab2017]and the Chicago Face Database[@maChicagoFaceDatabase2015] morphed with Webmorph [@debruineWebMorph2018]. We selected matched pairs of faces of women and men, ensuring that the women were rated similar levels of feminine as the men were rated masculine using the codebook provided by the researchers. The morphs were made in 7 steps, from completely feminine to completely masculine. We defined the facial femininity as the degree of the female face present in the morph. In other words, a 33% feminine face was slightly tilted toward the man, a 50% feminine face was an even mixture of the two faces and a 100% face consisted only of the woman's face. Because there were 18 face pairs morphed in 7 steps, the total number of faces was 126.

![Example of a seven-step morphing spectrum](pix/stimuli.jpeg){#fig-stimuli}

### Procedure

Participants completed the experiment on a computer in a quiet room. Each trial consisted of a face accompanied by the question "How would you gender categorize this person?". In the one-dimensional control condition, participants rated gender based on a single continuum with the anchors marked *woman* and *man*. In the two-dimensional condition, participants rated each face twice on two different continua, in the "woman" continuum, the anchors were marked "not woman" and "woman"; in the "man" continuum the anchors were marked *not man* and *man*. The separate continua were presented on different trials and the order of trials was completely randomized (see @fig-exp2-trial). *todo: fix picture*

![Sample trial from each of the three conditions](pix/exp2.png){#fig-exp2-trial}

### Data analysis

We used `r cite_r("r-references.bib", pkgs = c("brms", "tidyverse", "papaja"), withhold = FALSE)`. We fit the data to Bayesian mixed-effects models to test the categorical effects. In all models, morph level and response options were included as fixed effects. Additionally, all models included varying intercepts for both participants and trials and varying slopes for facial gender. The pattern of scores was non-linear, meaning any linear model would probably be misspecified. Therefore, to reduce the complexity of the model, facial femininity was modeled as an ordered factor with seven levels, corresponding to each of the seven morphing steps.

## Results

```{r}
tmp <- d %>% 
  filter(condition == "sd" | condition == "md") %>% 
  mutate(f_rating = as.numeric(categorization) %>%  ifelse(scale == "f", ., 1),
         scale_new = ifelse(scale == "f" | scale =="m", scale, "sd"),
         fem = as.factor(fem)) 

```


First, we examined the relationship between ratings of "woman" and "man" in the two-dimensional condition. These were highly correlated (R = `r  cor(tmp$f_rating[tmp$scale == "m"]*-1, tmp$f_rating[tmp$scale == "f"]) %>% round(2)`). Therefore, man ratings in the multiple dimensions were reverse coded for subsequent analyses. Second, we examined whether participants responded categorically to faces (Research Question 1). Individual-level (thin lines) and group mean (thick lines) responses are visualized in @fig-desc-two. If participants respond according to the morph level, the lines should be a straight diagonal. Instead, @fig-desc-two shows that most participants display a non-linear S-shape and this was also the pattern of the group means. Note that in the two-dimensional condition, participant rated each face twice. Thus there are @fig-desc-two**b** has twice as many lines.

```{r }
#| label: fig-descriptives-two
#| fig-cap: Participant level and mean ratings of faces in One-dimensional and two-dimensional conditions
#Visualise means using ggplot
sd <- d %>% 
  filter(condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")

f <- d %>% 
  filter(condition == "md" & scale == "f") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimensions", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop") 

m <- d %>% 
  filter(condition == "md"& scale == "m" ) %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")
```

```{r desc-two, fig.cap= "Participant level and mean ratings of faces in One-dimensiona and two-dimensional conditions"}
#| label: fig-desc-two
#| fig-cap: Participant level and mean ratings of faces in One-dimensiona and two-dimensional conditions
#Visualise means using ggplot

library(ggpubr)
library(gridExtra)

prep <- d %>% 
  filter(condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization )%>% 
  group_by(fem, scale, condition )%>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")
   
s_plot <- prep %>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =sd,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= sd,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial femininity") +
  ggtitle("Woman - Man")+
  theme_pubclean() +
  theme(legend.position = "none")

f_plot <-  prep%>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =f,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= f,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial femininity") +
  ggtitle("Woman")+
  theme_pubclean() +
  theme(legend.position = "none")

m_plot <- prep %>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =m,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= m,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial Femininity") +
  ggtitle("Man")+
  scale_color_viridis_d(option = "H", direction = 1, begin = 0.7)+
  theme_pubclean() +
  theme(legend.position = "none")

grid.arrange(s_plot,f_plot,m_plot, nrow=1)
```




```{r, fig.cap= "Mean rating of woman across the md and sd condition"}
#Wrangle data again
tmp <- d %>% 
  filter(condition == "sd" | condition == "md") %>% 
  mutate(f_rating = as.numeric(categorization) %>%  ifelse(scale == "f", ., 100- .),
         scale_new = ifelse(scale == "f" | scale =="m", scale, "sd"),
         fem = as.factor(fem)) 


fit_dimensional_interaction <- 
  brm(f_rating ~ 0 + fem:condition + (1 + fem|id) + (1+fem|face), family = gaussian(link = 'identity'), 
          prior = c(prior(normal(50,50), class = "b"),
                    #prior(normal(50,50), class = "Intercept"),
                    prior(exponential(1), class = "sd"),
                    prior(lkj(1), class = "cor"),
                    prior(exponential(1), class = sigma)),
          data = tmp,
          iter = 4000, warmup = 1000,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_dimensional_stair_factor.5")





# carrying out the hypothesis test
h_dim_33 <- hypothesis(fit_dimensional_interaction, "fem33.33:conditionmd= fem33.33:conditionsd" )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )

h_categ <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd- fem33.33:conditionmd = fem66.67:conditionsd- fem33.33:conditionsd" )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )
```

```{r, include=FALSE, echo=FALSE, message=FALSE}
#Testing stefanäs comment 

library(tidybayes)

f <- d %>% 
  filter(condition == "md" | condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimensions", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop") 

categ_md <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd - fem33.33:conditionmd = 0 " )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )

post <- fit_dimensional_interaction %>% 
 as_draws_df(c("b_fem33.33:conditionmd","b_fem33.33:conditionsd", "b_fem66.67:conditionmd", "b_fem66.67:conditionsd") ) %>% 
  rename("m_md" = "b_fem33.33:conditionmd", "m_sd" = "b_fem33.33:conditionsd", "f_md" = "b_fem66.67:conditionmd", "f_sd" = "b_fem66.67:conditionsd") %>% 
  mutate(categ_sd = f_md - m_md,
         categ_md = f_sd - m_sd)

hdi(post$categ_md)
mean(post$categ_md)

hdi(post$categ_sd)
mean(post$categ_sd)
```

To further test this, we calculated the difference between the mean ratings when facial feminity was 33% and 67%. If participants respond linearly, this difference should be 34. Instead, in both the one-dimensional condition (*M*~1D~ = `r mean(post$categ_sd) %>% round(2)`, CI~1D~ = \[`r hdi(post$categ_sd) %>% round(2)`\]) and the two-dimensional condition (*M*~2D~ = `r mean(post$categ_md) %>% round(2)`, CI = \[`r hdi(post$categ_sd) %>% round(2)`\]) this difference far exceeded 34 and the narrow credible intervals suggest these measures were precisely estimated. We interpret this to mean that participants responded categorically. However, @fig-desc-two also suggests that there was a degree of individual variation, and some participants were more categorical than others in their ratings.

Finally, we tested whether the categorical perception was reduced in the two-dimension condition compared to the one-dimension condition (Research Question 2). The two conditions were not meaningfully different (Difference = `r mean(post$categ_md-post$categ_sd) %>% round(2)`, CI = \[`r h_categ$hypothesis$CI.Lower %>% round(2)`, `r h_categ$hypothesis$CI.Upper %>% round(2)`\], BF~01~= `r h_categ$hypothesis$Evid.Ratio %>% round(2)`). This suggests that categorical perception was not reduced by two-dimensional response options. Sensitivity analyses carried out with monte carlo simulations suggested that the smallest detectable effect size was XX

## Discussion

Participants responded categorically when rating faces in terms of gender. Additionally, two-dimensional response options did not reduce this effect. Indeed a highly binary view of gender was present and participants treated womanhood and manhood as opposites even though the scale would allow them to be more flexible. However, this scale only implicitly challenged the binary, as no diverse gender options were present.

# Study 2

Study 2 tested a wider range of response options that explicitly challenge the gender binary. These were adapted from common ways to measure participants' self-categorization of gender [@lindqvistWhatGenderAnyway2020; @sapersteinCategoricalGradationalAlternative2021]. In Study 2 we compared three types of response options in a gender categorization task: 1) only woman and man; 2) woman, man and "other" and 3) an open text box for participants to type in their response. As a baseline, we also included control condition with only woman and man as response options.

## Method

### Participants

```{r}
# Get subjects information
subs_exp2 <- d %>%
  filter(condition == "ft" | condition == "xb" | condition == "mc") %>% 
  mutate(age = as.numeric(Age_1),
         gender = substr(Gender_1, 1,1) ) %>% 
  count(id, age, gender, condition)

```

Swedish participants (*N* = `r length(subs_exp2$id)`) took part in the study in a lab at a Stockholm University campus (*M*~age~= `r mean(subs_exp2$age, na.rm = TRUE) %>% round(2)`, *SD*~age~ = `r sd(subs_exp2$age, na.rm = TRUE) %>% round(2)`, Range = `r min(subs_exp2$age, na.rm = TRUE)` - `r max(subs_exp2$age, na.rm = TRUE)`). Self-identified gender was measured using an open-ended text box as recommended by [@lindqvistWhatGenderAnyway2020]. The final sample included 56 women, 47 men 2 participants did not indicate gender. All participants were informed that participation was voluntary and gave written consent to participate in the study. Participants were randomly allocated into one of the two response option conditions (*N*~binary~ = `r sum(subs_exp2$condition == "xb")`, *N*~multiple~ = `r sum(subs_exp2$condition == "mc")`, *N*~free text~ = `r sum(subs_exp2$condition == "ft")`). Participants were monetarily compensated for their time (100 sek). In accordance with the Helsinki declaration, all participants were informed that participation was voluntary and gave written consent to participate in the study.


### Stimuli

The stimuli were identical to those of Study 1.

### Design and Procedure

*todo: change order to be consistent*
The experiment used a between-participants design. There were three response options conditions: binary categories, free text, and multiple categories (see @fig-exp1-trial). In the *binary categories* condition, the response options consisted of two categories: "woman" and "man". In the *free text* condition, the response options consisted of an open text box. In the *multiple categories* condition, the response options consisted of four categories: "woman", "man", "other" and "I don't know".

Participants completed the experiment on a computer in a quiet room. Each trial consisted of a face accompanied by the question "How would you gender categorize this person?" After being allocated to one of the three conditions, participants categorized 126 faces according to the response options in their condition.

![Sample trial from each of the three conditions](pix/exp1.png){#fig-exp1-trial}

The outcome was responses to the categorization task. For analysis purposes, these were recorded in the following ways:

*Other categorizations* represented the trials where participants categorized faces as any other category than woman or man. This was computed by dichotomizing the variable so "other" = 1 and all other responses = 0. In the free text condition, participants responses were manually coded so variations of "other" and "non-binary" counted as other.

*I don't know responses* represented trials where participants did not categorize any gender category. This was computed by dichotomizing the variables so "I don't know" = 1 and all other responses = 0. In the free text condition, participants responses were manually coded and variations of "unsure" and "I don't know" counted as "I don't know".

## Results


```{r  }
#| label: fig-desc-1
#| fig.cap: Gender Categorizations by Participants

# make figure 1
d %>%
  mutate(fem = fem ) %>% 
  filter(condition == "ft" | condition == "xb" | condition == "mc") %>% #select correct conditions
  filter(id != 124) %>% #misunderstood the task, categorized by race
  group_by(fem, race, condition) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  count(categorization) %>% 
  filter(!is.na(categorization))%>% 
  ggplot(aes(x=fem, y=n, fill=factor(categorization, levels = c("Man", "Other", "Don't know", "Woman")))) +
  geom_bar(stat="identity", position = "fill") + 
  #ggtitle("Gender Categorizations by Participants")+ 
  facet_wrap(~condition) + 
  scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
  scale_y_continuous(breaks =c(0, 0.17, 0.33, 0.50, 0.66, 0.83, 1)) +
  ylab("Proportion of responses" ) +
  xlab("Morph level") +
  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  scale_fill_manual( values = c("#D2B48C", "#FF5733", "#3498DB", "#FFDD88"))+
  guides(fill = guide_legend(title = "Categorization"))+
  geom_hline(yintercept=0.50, linetype="dashed", color = "darkgrey")+
  theme_pubclean()

```

```{r, include=FALSE}
#create dataframe with only free text and multiple categories conditions 
#Well, fist, first I wrangle data
tmp <- d %>% 
  filter(condition == "mc" | condition == "ft") %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ) )%>% 
  mutate(bbcat = ifelse(categorization == "Other"|categorization == "Don't Know", 1, 0),
         fem = as.factor(fem),
         nb = ifelse(categorization == "Other", 1, 0),
         fem = as.factor(fem),
         dk = ifelse(categorization == "Don't know", 1, 0),
         fem = as.factor(fem))
```

```{r  message=FALSE, error=FALSE, warning=FALSE, include=FALSE}
#| label: fig-desc1
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5
library(ggpubr)
p <- tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  filter(sum_nb != 0 | sum_dk !=0)%>% 
  pivot_longer(cols = c(sum_nb, sum_dk),names_to = "Categorization", values_to = "N" ) %>% 
  mutate(N = as.numeric(N)) 

slp <- as.data.frame(p)

 # ggplot(p, aes(x = "N"))+
 # geom_bar(stat = "identity", width = 1)# , fill = "Categorization"), #Count the dk categorizations in each condition 
              
```

```{r  message=FALSE, error=FALSE, warning=FALSE}
#| label: fig-desc-nbo
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5

face_labels <- c("ft" = "Free Text", "mc" = "Multiple Categories")

library(ggpubr)
tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  mutate(#zeroes = ifelse(sum_dk ==0 & sum_nb ==0 , 0, NA),
         more_dk = ifelse(sum_dk >0, sum_dk, NA),
         more_nb = ifelse(sum_nb >0, sum_nb, NA) )%>% 
  pivot_longer(cols = c(more_dk, more_nb), names_to = "Categorization", values_to = "N") %>% 
  mutate(Categorization = recode(Categorization, "more_dk" = "Don't know", "more_nb" = "Other" )) %>% 
  ggplot(aes(x = N, fill = Categorization))+
  geom_bar( #Count the dk categorizations in each condition
               width = 0.6) +
  facet_wrap(~condition)+
  scale_x_continuous(name = "N Categorizations")+
  scale_y_continuous(name = "N Participants")+
  theme_pubclean() 
```


```{r  message=FALSE, error=FALSE, warning=FALSE}

  #geom_dotplot(aes(x = condition, y = more_nb, fill = "Other"), #Count the nb categorizations in each condition
     #          binaxis = "y",binwidth = 1, stackdir = "up",  
    #           stackratio =1, color = "#3498DB",
              # position = position_nudge(x = -0.05))+
 # scale_y_continuous(name = "N categorizations")+
 # coord_flip()+
  #scale_fill_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  #scale_color_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
 # theme_pubclean()


#geom_dotplot()
# tmp %>% group_by(id, condition) %>% 
#   #filter(condition == "mc") %>% 
#   summarise(sum_bbcat = sum(bbcat  ==1)) %>% 
#   arrange(sum_bbcat)%>% 
#   #mutate(id = seq_len(n())) %>% 
#   ggplot(aes(x = condition, y = sum_bbcat))+
#   geom_jitter(width = 0.02, alpha = 0.5, size = 2)+
#   scale_y_continuous(name = "N Beyond-Binary categorizations")+
#   #coord_flip()+
#   theme_classic()
```


```{r  message=FALSE, error=FALSE, warning=FALSE}
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5
library(ggpubr)
tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  mutate(#zeroes = ifelse(sum_dk ==0 & sum_nb ==0 , 0, NA),
         more_dk = ifelse(sum_dk >0, sum_dk, NA),
         more_nb = ifelse(sum_nb >0, sum_nb, NA) )%>% 
  ggplot(aes(x = condition, y = zeroes))+
  geom_dotplot(aes(x = condition, y = more_dk, fill = "Don't Know"), #Count the dk categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "up", 
               stackratio =1, color = "#FF5733",
               position = position_nudge(x = 0.05)) +
  geom_dotplot(aes(x = condition, y = more_nb, fill = "Other"), #Cout the nb categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "up",  
               stackratio =1, color = "#3498DB",
               position = position_nudge(x = -0.05))+
  scale_y_continuous(name = "N categorizations")+
  coord_flip()+
  #scale_fill_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  #scale_color_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  theme_pubclean()


geom_dotplot()
# tmp %>% group_by(id, condition) %>% 
#   #filter(condition == "mc") %>% 
#   summarise(sum_bbcat = sum(bbcat  ==1)) %>% 
#   arrange(sum_bbcat)%>% 
#   #mutate(id = seq_len(n())) %>% 
#   ggplot(aes(x = condition, y = sum_bbcat))+
#   geom_jitter(width = 0.02, alpha = 0.5, size = 2)+
#   scale_y_continuous(name = "N Beyond-Binary categorizations")+
#   #coord_flip()+
#   theme_classic()
```

```{r}
#Fit models using brms.
#Can be run with premade file to save time. To reproduce in full, comment out the "file" argument
Null <- brm(bbcat ~ 1  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "Intercept"), # weakly regularizing priors
                    prior(cauchy(0,3), class = "sd")
                    ),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_null"
          )

#Fitting the main effects model
Main_Effect <- brm(bbcat ~ 0 + condition + fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "b", coef = "conditionmc"), #again, weakly regularizing priors
                    prior(normal(0,3), class = "b", coef = "conditionft"),
                    prior(cauchy(0,3), class = "sd")
                    ),
          data = tmp,
          iter = 4000, warmup = 1000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_mfx"
          )

#fitting the interaction model
Interaction <- brm(bbcat ~ 0 + condition:fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
         prior = c(prior(normal(-3,3), class = "b"),
                   prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_int.6"
          )

```

Most faces were categorized as women or men by most participants (see Figure @fig-desc-1). @fig-desc-1 illustrates how many participants (x-axis) categorized how many faces (y-axis) according to the categories "other" and "don't know" (different colors)  across the two experimental conditions (separate plots). Participants who made no categorizations beyond the binary (N = ) Participants did categorize faces outside of this binary in the multiple categories condition, as @fig-desc-1 shows, and most such categorizations were made in response to androgynous faces.

That said, we were also interested in how often participants categorized faces as other than women and men when they had the option. Many more participants made categorizations beyond the binary in the multiple categories condition compared to the free text condition (see  @fig-desc-nbo). @fig-desc-nbo illustrates how many categorizations (y axis) beyond the binary participants made. Each bar represents how many participants (y axis) made a certain number of categorizations (x axis). The different colors denote the different categorizations. In the Free Text condition, only two participants made any other categorization than woman and man, whereas more than half did so in the Multiple Categories condition (see @fig-desc-nbo *or* @fig-cond ). Participants who only categorized faces as women or men are not represented in figure @fig-desc-nbo. The difference is so stark, we do not feel that inferential statistics add any more information, but the curious reader may find these in the supplemental material.

```{r warning = FALSE, message = FALSE, error = FALSE}
#| label: fig-cond
#| fig-cap: Alternative version of the previous figures

tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(nb = sum(nb  ==1),
            dk = sum(dk  ==1),
            .groups = NULL) %>% 
  pivot_longer(cols = c(nb, dk), names_to = "outcome", values_to = "n") %>%
  ggplot(aes(x = outcome, y = n, fill = condition, color = condition)) +
  geom_dotplot( #Count the dk categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "center", 
               stackratio =1, dotsize = 0.5)+
  theme_pubclean()+
  facet_wrap(~condition)
```


@fig-desc-1 also seems to suggest that the non-binary categorizations in the Multiple Categories condition come at the expense of man categorization. We tested whether this was the case by examining only responses of woman or man. This meant removing a total of 226 responses from 20 participants. Overall rates of binary categorizations were similar across the three conditions (see @fig-wtf). @fig-wtf illustrates median and interquartile range proportion of faces categorized as women (in this data set, with categorizations beyond the binary removed, any face not categorized as a woman was categorized as a man)

```{r my-plot, fig.cap= "Participant Proportions for Categorizing Faces as Women Across Three Conditions"}
#| label: fig-wtf 
#make figure 1
d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "ft"| condition == "mc" |condition == "xb") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  group_by(condition, id) %>% 
  count(categorization) %>% pivot_wider(id_cols = c(id, condition), names_from = categorization, values_from = n) %>% 
  mutate(total = Woman+Man) %>% 
  mutate(prop_w = Woman/total*100) %>% 
  ggplot(aes(x = condition, y = prop_w)) +
  geom_boxplot()+
  theme_pubclean() +
  ylab("Percentage \"woman\" categorizations") + 
  xlab("Condition")
  
```

```{r descriptives-ft-prep, fig.cap= "Gender Categorizations by Participants"}

# make figure 1
ft <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "ft") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  filter(!is.na(categorization)) %>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))

summarized_data <- ft %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
ft <- merge(ft, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   # group_by(categorization) %>% 
  arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
 # ylab("Proportion of responses" ) +
  xlab("") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Free text")
```

```{r descriptives-mc-prep, fig.cap= "Gender Categorizations by Participants"}
mc <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "mc") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man"),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124 | 84) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  group_by(categorization) %>% 
  filter(!is.na(categorization))%>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))



summarized_data <- mc %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
mc  <- merge(mc, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
 # ylab("Proportion of responses" ) +
  xlab("") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Multiple Catgories")
```

```{r descriptives-xb-prep, fig.cap= "Gender Categorizations by Participants"}
xb <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "xb") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124 | id !=84) %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  group_by(categorization) %>% 
  filter(!is.na(categorization)) %>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))



summarized_data <- xb %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
xb  <- merge(xb, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
  #ylab("Proportion of responses" ) +
  xlab("id") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Binary Catgories")
```

```{r descriptivesy, fig.cap= "Binary Gender Categorizations by Participants in the three conditions (non-binary responses were excluded) "}
#library(ggpubr)
#ggarrange(xb, ft, mc, ncol = 3, common.legend = TRUE, legend="right", label.x = "Proportion of responses", label.y = "ID")
```

```{r, rq2-modelling 3, message=FALSE}
#remove the beyond binary responses
tmp <- d %>% 
  filter(condition == "mc"| condition == "xb"|condition == "ft" )%>% 
  mutate(categorization = recode(categorization, 
                                 "F" = "f", "kvinna" = "f", "female" = "f", "female " = "f", "Female"= "f", "Fenale"= "f", "women" = "f", "woman " = "f", "femLE" = "f", "FEmale" = "f", "Femalw" = "f", "Fwmalw" = "f", "Female " = "f", "woman" = "f", "Woman" = "f", "feMale" = "f", "fermale" = "f", "wman" = "f", "Femae" = "f",
                                 "man" = "m","Male " = "m", "make" = "m", "Male"= "m", "male" = "m", "man " = "m",  "male " = "m", "guy" = "m", "boy" = "m", "Make" = "m", "M"  = "m", "Man" = "m", "Bottom half male; above nose female., Would have to say Male" = "m", " male" = "m", "male  " = "m", "ale" = "m", "nmale" = "m", "MALE"= "m", "nale"= "m", " Male" = "m",
                                 "Nonbinary" = "o", "Non Binary " = "o", "Unsure" = "o", "Non binary " = "o", "good" = "o", "Neutral" = "o", "neutral" = "o", "nonbinary" = "o", "bigender" = "o", "hen" = "o", "don't know"  = "o", 
                                 "1" = "f", "2" = "m")) %>% 
  mutate(f_cat = ifelse(categorization == "f"|categorization == "m", categorization, NA)) %>% 
  mutate(f_cat =as.numeric( f_cat == "f"))

#Start fitting the null model
Null <- brm(f_cat ~ 1  + (1 + fem |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "Intercept"),
                    prior(exponential(2), class = "sd")
                    ),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_mf_null.1"
          )


#Main effects model
main_effects <- brm(f_cat ~ 0 + condition + fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "b"),
                    prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 4000, warmup = 1000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/mainfx.2"
          )

tmp$fem_s = tmp$fem - 50
tmp$cond <- factor(tmp$condition, levels = c("xb", "ft", "mc"))
#Lastly the interaction model
interaction <- brm(f_cat ~ 0 + condition * condition:fem_s  + (1 + fem_s |id) + (1 + fem_s |face), family = bernoulli(link = 'logit'), 
         prior = c(prior(normal(0,3), class = "b"),
                   prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_mf_int.6"
          )

```

```{r hypos 2}

#Test contrasts
h0 <- hypothesis(interaction, "conditionxb = conditionmc")
h1 <- hypothesis(interaction, "conditionxb = conditionft")

h2 <- hypothesis(interaction, "conditionxb:fem_s = conditionmc:fem_s")
h3 <- hypothesis(interaction, "conditionxb:fem_s = conditionft:fem_s")


```

Additionally, we fit a Bayesian mixed-effects models to estimate the difference in proportion of woman categorization across the condition. In this model, the outcome was gender categorization (either non-binary or woman) and facial gender and response option condition were included as fixed effects. Additionally, all models included varying intercepts for both participants and trials and varying slopes for morph level. As in Study 1, facial femininity was recoded as an ordered categorical variable.

For testing, we treated the binary categories condition as the baseline against which the other two conditions were compared. The evidence indicated that the proportion of faces categorized as women was the same in the Multiple Categories and Binary Categories conditions (OR = `r exp(h0$hypothesis$Estimate) %>% round(2)`, CI =\[`r exp(h0$hypothesis$CI.Lower)%>% round(2)`, `r exp(h0$hypothesis$CI.Upper )%>% round(2)`\], BF~01~= `r round(h0$hypothesis$Evid.Ratio , 2)`). The evidence also indicated that the proportion of faces categorized as women was the same in the Free text and Binary Categories condition (OR = `r exp(h1$hypothesis$Estimate) %>% round(2)`, CI =\[`r exp(h1$hypothesis$CI.Lower)%>% round(2)`, `r exp(h1$hypothesis$CI.Upper) %>% round(2)`\], BF~01~= `r round(h1$hypothesis$Evid.Ratio , 2)`). In other words, neither the free text nor the multiple categories condition changed the pattern of categorization of women and men compared to the binary categories condition.

## Discussion

In Experiment 2 we tested how free text options and multiple categories affected participants responses beyond the binary. Some participants made some categorizations beyond the binary in the multiple categories condition, but virtually none did so in the free text condition. Furthermore, categorization beyond the binary did not come at the expense of categorizations of either women or men. 

# General Discussion

In two experiments we tested how different response options influenced gender categorization. In Study 1 we compared two-dimensional scales with one-dimensional controls. We found that participants responded categorically and this was the case in both the control condition and the two-dimensional condition. In Study 2, we compared free text and multiple categories. We found that only multiple categories elicited beyond-binary responses. Compared to binary control, neither changed the pattern of categorizations of women and men.

The results from Study 1 are consistent with previous work on categorical perception of gender in faces [@campanellaCategoricalPerceptionFacial2001; @campanellaCategoricalPerceptionUnfamiliar2003]. Participants exhibited a categorical pattern of responses where ratings of gender were more extreme than the facial gender. This implies that participants had a conception of gender as consisting of two distinct categories. Furthermore, the two-dimensional ratings did not reduce the strength of the categorical effect. This suggests that at least in the present sample, two-dimensional response options were not enough to reduce the binary gender norms.

This differs slightly from the results of @bemMEASUREMENTPSYCHOLOGICALANDROGYNY1974 who found that measuring gender as two separate scales led participants to treat gender as less binary. Moreover, where she found that masculinity and femininity were largely unrelated, we found that ratings of "woman" and "man" were strongly correlated. This is probably accounted for by the differences in outcome measures in @bemMEASUREMENTPSYCHOLOGICALANDROGYNY1974 and in our study. @bemMEASUREMENTPSYCHOLOGICALANDROGYNY1974 measured gender as a psychological trait in the self, whereas we measured gender as a judgment of the gender identity of others. The latter outcome is not only determined by the response options, but also by the physical features of the faces. In other words, judging the faces of others is a different task from judging ones own characteristics, and one of the primary differences is the increase in external stimuli and influences.

The finding from Study 2 that participants use non-binary response options is consistent with the work of @sapersteinCategoricalGradationalAlternative2021 and @lindqvistWhatGenderAnyway2020, which has shown that including flexible response options allows participants to better express themselves. A recommendation from that literature is that open text boxes afford participants the greatest flexibility in their responses. In our study that flexibility was rarely used when the response options consisted of a free text. This likely reflects the difference between TGD people categorizing their own gender and cisgender participants categorizing others.

A probable explanation for the difference between free text and multiple categories in Study 2 is that the multiple categories served as a visual reminder of non-binary identity. Researchers interested in the categorization of non-binary identity should be aware that these may not spring to mind unless participants are explicitly reminded of them.

Neither free text nor multiple categories influenced the categorizations of women and men. This suggests that such inclusive response options can be suitable for investigating the categorization of women and men without skewing the results or introducing noise. This is a positive finding for researchers who are primarily interested in such categorizations but do not want to contribute to the marginalization of trans and non-binary individuals.

Overall, we recommend researchers to consider how they measure the categorization of others. Multiple dimensions, free text, and multiple categories and continua are all viable alternatives. If the primary research question is to investigate non-binary categorization, then multiple categories are most suitable. However, if the goal is to measure the categorization of women and men, free text or multiple categories may be equally suitable.

#### Conclusion

In two studies we tested how different response alternatives affected gender categorizations. In Study 1, participants responded categorically to the faces, both when rating gender using one-dimensional and a two-dimensional scales. This suggests that participants generally had a binary conception of gender which was not influenced by response options. In Study 2, participants were more likely to categorize faces beyond the binary when using multiple categories, including "non-binary" and "I don't know" than when using a free text option. In comparison to self-identification questions where open-ended responses are seen as the most inclusive alternative [@lindqvistWhatGenderAnyway2020], the categorization of others benefits from response options that explicitly remind participants that not all people identify as women or men.

\newpage

# References

::: {#refs custom-style="Bibliography"}
:::
