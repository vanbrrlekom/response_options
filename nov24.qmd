---
title: "Toward Inclusive Research: The Effect of Response Options on Gender Categorization of Faces"

bibliography: "library.bib"
comments: 
  hypothesis: true
 
abstract: "Psychological research often treats gender as binary and unidimensional, even though this oversimplifies the variability of gender. In two experiments, we studied how alternative response options influence how people perceive the gender of a racially diverse set of morphed faces. Experiment 1 (N = 71) compared one-dimensional and two-dimensional scales for gender categorization. Results indicated that participants consistently used the ends of dimensional scales, resulting in highly categorical perceptions. Experiment 2 (N = 100) compared traditional binary response options with multiple categories and free-text answers. Results indicated that providing more response options than the binary (e.g., “non-binary”, “I don’t know”) made participants perceive gender as more diverse. In contrast, free-text options did not change a binary categorical perception of gender. Despite the opportunity to categorize faces beyond the binary, the predominant categorizations remained as ‘woman’ or ‘man’. We conclude that multiple response options seem to be the best way to increase perceivers' understanding of gender beyond the binary. "

author:
  - name: Elli van Berlekom
    corresponding: true
    orcid: 0000-0002-1949-5600
    email: elli.vanberlekom@psychology.su.se
    affiliations:
      - name: Stockholm University
        department: Psychology Department
  - name: Stefan Wiens
    orcid: 0000-0003-4531-4313
    affiliations:
      - name: Stockholm University
        department: Psychology Department
  - name: Marie Gustafsson Sendén
    orcid: 0000-0002-8393-5316
    affiliations:
      - name: Stockholm University
        department: Psychology Department
author-note:
  disclosures:
    conflict of interest: The author has no conflict of interest to declare.
format:
  

  apaquarto-html: default

date: "`r format(Sys.time(), '%B %d, %Y')`"
---

```{r setup,warning = FALSE, message = FALSE}
library("papaja")
library(brms)
library(tidyverse)
citations <- r_refs("librar.bib")

library(brms)
library(tidyverse)
source("src/functions.r")
d <-  read.csv("data/data.csv") %>% 
    mutate(across(!starts_with("Gender"), as.character)) %>% 
    mutate(id = 1:nrow(.)) %>% 
    #arrange(condition.1) %>% 
    pivot_longer(
      cols = !c(id, Age_1, participant,  starts_with("Gender"), psy_group, condition_1,CLIENT_start, starts_with("TIME"), starts_with("choose"), contains("assign"), starts_with("Prolific"), starts_with("TIME")),
      names_to = "face",
      values_to = "categorization") %>% 
    #separate(face, c("condition", "face", "morph", "scale")) %>% 
   select(id, face, categorization, Age_1, Gender_1, starts_with("Gender")) %>% 
   filter(!categorization == "") %>%   
    separate(face, c("condition", "face", "morph", "scale")) %>% 
    mutate(race = substr(face, 1,1),
           masc = recode(morph, "0" = "0", "1" = "16.67", "2"= "33.33","3" = "50",
                         "4" = "66.67", "5" ="83.33", "6" =  "100")) %>% 
    mutate(masc = as.numeric(masc)) %>% 
    mutate(masc = ifelse(race != "w", masc, 100 - masc)) %>% 
  mutate(fem = 100 - masc) %>% 
  filter(id !=127)

write_csv(d, "data_processed.csv")


```

```{r analysis-preferences}
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
```

Many transgender and gender diverse people experience gender as fluid, diffuse, and outside the typical binary of women and men [@hydeFutureSexGender2019; @richardsNonbinaryGenderqueerGenders2016]. Unlike cisgender people - who identify with their assigned gender at birth - transgender people identify with a gender different from their assigned sex at birth [@levittBeingTransgenderExperience2014]. Moreover, many transgender people identify as nonbinary, which can be either an identity in and of itself or an umbrella term for a wide variety of gender identities other than woman or man (e.g., genderqueer, agender, genderfluid) [@monroNonbinaryGenderqueerOverview2019].

Surveys and questionnaires that collect data on gender have typically used response formats that do not account for this gender diversity, for example by including only the categories woman/female and male/man as response options [@sapersteinCategoricalGradationalAlternative2021]. This is beginning to change; it is increasingly common for studies to include response formats that are sensitive to a wide variety of gender identities, at least when collecting data on participants' own gender identities [@hydeFutureSexGender2019]. Research on gender categorization of others, however, is still dominated by binary response options [e.g., @campanellaCategoricalPerceptionFacial2001; @habibiSpontaneousGenderCategorization2012; @jungAutomaticityGenderCategorization2019]. This is potentially problematic; gender categorization research needs to accurately capture the full complexity of gender; moreover, gender categorization is susceptible to influence by short-term methodological factors (Atwood et al., 2024; Thorne et al., 2015). The importance of research on gender diversity and the risk of influencing participants suggests that response formats themselves need to be examined. The aim of this research is therefore to examine two types of response formats that challenge binary gender: multidimensional scales and multiple response options beyond the binary.

## Gender and Gender Categorization

To understand why response formats matter, it is important to understand the concept of gender itself. Gender is a multifaceted concept with both personal and cultural aspects [@hydeFutureSexGender2019]. The personal aspects of gender include a person's physical body (i.e., sex) and their internal sense of gender (i.e., gender identity). Both sex and gender vary on a spectrum; sex is determined by chromosomes, hormones, and physical morphology, none of which need conform to the typical binary and gender can take an encompass an even broader range of expressions and categories. The cultural aspects of gender include beliefs about which gender categories exist, prescriptions and proscriptions for appropriate behavior for different gender categories, as well as the language available to refer to gender, including gendered pronouns and the names of gender categories (Lonergan & Palomares, 2020).

The personal and cultural aspects of gender are interconnected [@morgenrothEffectsGenderTrouble2021]; cultural norms often constrain the personal aspects of gender, and, inversely, individuals' enactments of gender may influence cultural norms over time [@butler1999]. For example, in many cultures that conceive of gender as binary, there are no words or few to express non-binary gender, limiting gender diverse people's ability to know and express their identity [@richardsNonbinaryGenderqueerGenders2016a, @thorne2023]. Additionally, the interconnection between the personal and the cultural aspects of gender suggests that inter-individual interactions are important arenas for the emergence and enforcement of gender norms. Treating someone according to the prescribed norms for a specific gender can be impactful, especially for gender diverse people: such actions can be affirming if consistent with that person's gender identity, negating if not [@monroNonbinaryGenderqueerOverview2019, @fasoliWhoYouThink2023].

Indeed, many studies suggest that gender categorization is a determining feature of social interactions (Kessler & McKenna, 1978; Liberman et al., 2017) and can activate stereotypes and associations [@freemanDynamicInteractiveTheory2011]. People base their gender categorizations on others' external features [@yamaguchi, @cloutierInvestigatingEarlyStages2014]) in a process that is effortless [@yangHardDisruptCategorization2019], fast [@tomelleriNatureGenderCategorization2012], and does not require much visual input [@ref]. Indeed, based on this evidence, some have concluded that gender categorization is an automatic [@jungAutomaticityGenderCategorization2019] and unavoidable feature of social interactions (Fiske, 1998).

Another feature of gender categorization is that responses display a pattern consistent with categorical perception [@campanellaCategoricalPerceptionFacial2001]. For example, when people categorize faces that are morphed to vary on a continuum from feminine to masculine, their categorizations are exaggerated compared to the level of facial gender (Rule et al., 2012; Campanella et al., 2001; Atwood et al., 2024). This means that a 60% female morph may be categorized as a woman by closer to 80% of participants [@campanellaCategoricalPerceptionFacial2001]. Categorical perception patterns have been observed for other domains, such as colors (blue, green) and phonemes ("ga", "ba") and suggest that people view stimuli that vary on a continuum as consisting of just a few categories [@simanovaLinguisticPriorsShape2016]. The observation of categorical perception of gender, therefore, implies that people treat gender as a binary consisting of women and men only.

However, recent work suggests that a binary view of gender is not inevitable. For example, in one study, participants were tasked with keeping track of three people carrying out a conversation [@gallagher2025]. On both implicit and explicit indices of gender categorization, younger participants and participants with personal experience of gender diversity were less likely than other participants to categorize conversationalists by gender \[Gallagher et al., 2024\]. Additionally, two studies have shown that categorical perception of gender can be disrupted. @thorneLeftHemisphereAndrocentric2015 reduced participants' categorical perception by presenting faces only in the left visual field. These stimuli were processed by the right brain hemisphere, implying that only the left brain hemisphere displayed categorical perception of gender. Moreover, Atwood and colleagues (2024) reduced categorical perception simply by presenting participants with a third response option beyond woman and man. The last study, in particular, suggests the importance of response formats in determining outcomes in categorization tasks.

## Response Formats and Gender Categorization Beyond the Binary

Therefore, it may be troubling that research gender on categorization has largely operationalized gender using response formats that suggest that gender is binary [@hydeFutureSexGender2019, @sapersteinCategoricalGradationalAlternative2021, @lindqvistWhatGenderAnyway2020]. Two examples of such formats are gender categorization expressed as a single dimension (feminine-masculine) and as binary response options(woman/female and man/male). Both response formats imply ideas about gender: a single dimension suggests that femininity and masculinity are mutually exclusive oppositesl and binary response options suggest that those are the only gender categories that exist. It is therefore possible that binary response formats bias participants toward a binary conception of gender.

As gender is diverse, it is important to understand which types of response formats capture gender diversity. One approach is to operationalize femininity and masculinity as independent dimensions. Unlike one-dimensional treatments of gender, a two-dimensional approach does not imply that femininity and masculinity are opposites and that an increase in one necessarily entails a decrease in the other, destabilizing binary notions of gender [@libenUnderstandingUnderminingDevelopment2017]. Two-dimensional approaches have been used to assess gender as a psychological trait (Bem, 1974), as self-idendified categories [@sapersteinCategoricalGradationalAlternative2021] and as categorization of others [@wittlinFaceMemoryTransgender2018]. Moreover, at least one study found that femininity and masculinity were independent of each other [@hesterPerceivedFemininityMasculinity].

Another approach has been to broaden the response options even further @sapersteinCategoricalGradationalAlternative2021 by including a range of response options in addition to woman/female and man/male. This approach is increasingly common for assessing participants' own gender identity (Li et al, 2024., Saperstein et al.) and has been used in a handful of studies of gender categorization of others (van Berlekom et al., 2024; Weissflog et al, 2024). Additionally, @lindqvistWhatGenderAnyway2020 suggested that the most sensitive measure for self-categorization would be an open text entry where participants can fill in their gender in an open-ended format. The free text response has the advantage of being completely unconstrained, allowing participants to enter any category.

These approaches may imply that gender is visible from appearance. However, because gender identity is an internal felt sense of self is and not determined by sex, appearance is not always a reliable indicator of gender identity. In real-world contexts, therefore, relying on external attributes to categorize gender can lead to miscategorization. Therefore, in situations where misgendering might occur, it is essential to allow for an 'I don\'t know' option."

## The Present Research

Study 1 investigated the influence of dimensionality on categorical perception of gender. We compared one-dimensional and two-dimensional response formats. Study 2 investigated the influence of response option freedom on the categorization of binary and non-binary gender. We compared binary options, multiple options, and free text entry. Both studies were exploratory and did not include any preregistered hypotheses.

# Study 1

# Method

### Participants

```{r}
#| label = Get_subjects_information
subs <- d %>%
  filter(condition == "md" | condition == "sd" ) %>% 
  mutate(age = as.numeric(Age_1),
         gender = substr(Gender_1, 1,1) ) %>% 
  count(id, age, gender, condition)

```

Swedish participants (*N* = `r length(subs$id)`) [completed]{style="color:green;"} the study at the Stockholm University campus (*M*~age~= `r mean(subs$age, na.rm = TRUE) %>% round(2)`, *SD*~age~ = `r sd(subs$age, na.rm = TRUE) %>% round(2)`, Range = `r min(subs$age, na.rm = TRUE)` - `r max(subs$age, na.rm = TRUE)`). Participants comprised 33 women, 35 men, and 2 participants who did not indicate gender [self-identified gender was measured using an open-ended text box, following @lindqvistWhatGenderAnyway2020]. Participants were randomly allocated to one of the two response option conditions (*N*~control~ = `r sum(subs$condition == "sd")`, *N*~experimental~ = `r sum(subs$condition == "md")`). Participants were monetarily compensated for their time (100 SEK). In accordance with the Helsinki Declaration, all participants were informed that participation was voluntary and gave written consent to participate in the study.

### Stimuli

The experiment included Black, Asian, and White faces from the London Face Database [@debruineFaceResearchLab2017] and the Chicago Face Database[@maChicagoFaceDatabase2015] morphed with Webmorph [@debruineWebMorph2018]. We selected matched pairs of faces of women and men, ensuring that the women were rated at similar levels of feminine as the men were rated masculine according to the norming data [@maChicagoFaceDatabase2015]. The morphs were made in 7 steps, from completely feminine to completely masculine. [We defined facial gender as the position of the face on the morphing continuum]{style="\"color:green;"}. In other words, a 33% face was slightly masculine, a 50% face was an even mixture of the two faces, and a 100% face consisted only of the woman's face. Because there were 18 face pairs morphed in 7 steps, the total number of faces was 126.

![Example of a seven-step morphing spectrum](pix/stimuli.jpeg){#fig-stimuli}

### Procedure

Participants completed the experiment on a computer in a quiet room. Each trial consisted of a face accompanied by the question, "How would you gender categorize this person?". In the *one-dimensional* condition, participants rated gender based on a single continuum, with the anchors marked *woman* and *man*. In the *two-dimensional* condition, participants rated each face once on a *woman* continuum (the anchors were marked *not woman* and *woman*) and once on a *man* continuum (anchors were marked *not man* and *man*). The separate continua were presented on different trials. For each condition the order of trials was completely randomized in both conditions (see @fig-exp2-trial).

![Sample trial from each of the three conditions](pix/exp2.png){#fig-exp2-trial}

### Data analysis

We used `r cite_r("r-references.bib", pkgs = c("brms", "tidyverse", "papaja"), withhold = FALSE)`. We [fit Bayesian mixed-effects models to the data]{style="color:green;"} to test for patterns of responses consistent with categorical perception. In all models, facial gender (0 to 100 in seven steps) and response options (one-dimensional, two-dimensional) were included as fixed effects. Additionally, all models included varying intercepts for both participants and faces and varying slopes for facial gender. We modeled the predictor facial gender as an unordered factor with seven levels corresponding to each of the seven morphing steps. This allowed us to test for non-linear patterns that would be observed under categorical perception, where changes in facial gender would be expected to have a larger effect on rated gender near the midpoint than at extreme values.

## Results

```{r}
#| label = create_temporary_dataafile
tmp <- d %>% 
  filter(condition == "sd" | condition == "md") %>% 
  mutate(f_rating = as.numeric(categorization) %>%  ifelse(scale == "f", ., 100 - .),
         scale_new = ifelse(scale == "f" | scale =="m", scale, "sd"),
        fem = as.factor(fem)) 

```

```{r}
#out <- brm(gbb_m ~ condition + (1|id), data = tmp,
           #prior = c(prior(normal(3.5,1.5), class = "Intercept"),
                    # prior(normal(0,1), class = "b"),
                     #prior(cauchy(0,3), class = "sd")) )
```

We examined the relationship between ratings of woman and man in the two-dimensional condition across trials and subjects. These were highly negatively correlated (R = `r  cor(tmp$f_rating[tmp$scale == "m"]*-1, tmp$f_rating[tmp$scale == "f"]) %>% round(2)`). Therefore, man ratings in the multiple dimensions were reverse-coded for subsequent analyses. Second, we examined whether participants responded categorically to faces (Research Question 1). Individual-level (thin lines) and group mean (thick lines) responses are visualized in @fig-desc-two. If participants respond according to the morph level, the lines should be a straight diagonal. Instead most participants display a non-linear S-shape, and this was also the pattern of the group means. Note that in the two-dimensional condition, participants rated each face twice.

```{r }
#| label: fig-descriptives-two
#| fig-cap: Participant level and mean ratings of faces in One-dimensional and two-dimensional conditions
#Visualise means using ggplot
sd <- d %>% 
  filter(condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")

f <- d %>% 
  filter(condition == "md" & scale == "f") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimensions", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop") 

m <- d %>% 
  filter(condition == "md"& scale == "m" ) %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition, id) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")
```

```{r desc-two, fig.cap= "Participant level and mean ratings of faces in One-dimensiona and two-dimensional conditions"}
#| label: fig-desc-two
#| fig-cap: Participant level and mean ratings of faces in One-dimensiona and two-dimensional conditions
#Visualise means using ggplot

library(ggpubr)
library(gridExtra)

prep <- d %>% 
  filter(condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimension", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization )%>% 
  group_by(fem, scale, condition )%>% 
  summarise(mean_rating = mean(categorization), .groups = "drop")
   
s_plot <- prep %>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =sd,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= sd,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial gender") +
  ggtitle("Woman - Man")+
  theme_pubclean() +
  theme(legend.position = "none")

f_plot <-  prep%>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =f,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= f,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial gender") +
  ggtitle("Woman")+
  theme_pubclean() +
  theme(legend.position = "none")

m_plot <- prep %>% 
  ggplot( aes(x=fem, y=mean_rating)) +
  geom_line(linewidth = 1)+
  geom_point()+
  geom_point(data =m,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  geom_line( data= m,
            aes(x=fem, y=mean_rating, group = id ), alpha = 0.2)+
  scale_x_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  scale_y_continuous(breaks =c(0, 17, 33, 50, 67, 83, 100)) +
  ylab("Mean rating" ) +
  xlab("Facial gender") +
  ggtitle("Man")+
  scale_color_viridis_d(option = "H", direction = 1, begin = 0.7)+
  theme_pubclean() +
  theme(legend.position = "none")

grid.arrange(s_plot,f_plot,m_plot, nrow=1)
```

```{r, fig.cap= "Mean rating of woman across the md and sd condition"}
#Wrangle data again
tmp <- d %>% 
  filter(condition == "sd" | condition == "md") %>% 
  mutate(f_rating = as.numeric(categorization) %>%  ifelse(scale == "f", ., 100- .),
         scale_new = ifelse(scale == "f" | scale =="m", scale, "sd"),
         fem = as.factor(fem)) 


fit_dimensional_interaction <- 
  brm(f_rating ~ 0 + fem:condition + (1 + fem|id) + (1+fem|face), family = gaussian(link = 'identity'), 
          prior = c(prior(normal(50,50), class = "b"),
                    #prior(normal(50,50), class = "Intercept"),
                    prior(exponential(1), class = "sd"),
                    prior(lkj(1), class = "cor"),
                    prior(exponential(1), class = sigma)),
          data = tmp,
          iter = 4000, warmup = 1000,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_dimensional_stair_factor.5")





# carrying out the hypothesis test
h_dim_33 <- hypothesis(fit_dimensional_interaction, "fem33.33:conditionmd= fem33.33:conditionsd" )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )

h_categ <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd- fem33.33:conditionmd = fem66.67:conditionsd- fem33.33:conditionsd" )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )
```

```{r, include=FALSE, echo=FALSE, message=FALSE}
#Testing stefanäs comment 

library(tidybayes)

f <- d %>% 
  filter(condition == "md" | condition == "sd") %>% 
  mutate(fem = fem,
         categorization = as.numeric(categorization) %>% ifelse(scale == "m" | condition == "sd", 100-., .),
         scale = recode(scale, "1" = "Woman - Man", "f" = "Not Woman - Woman", "m" = "Not Man - Man"),
         condition = recode(condition, "sd" = "One dimensions", "md" = "Two dimensions")) %>% 
  mutate (categorization = categorization  )%>% 
  group_by(fem, scale, condition) %>% 
  summarise(mean_rating = mean(categorization), .groups = "drop") 

categ_md <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd - fem33.33:conditionmd = 0 " )
h_dim_67 <- hypothesis(fit_dimensional_interaction, "fem66.67:conditionmd= fem66.67:conditionsd" )

post <- fit_dimensional_interaction %>% 
 as_draws_df(c("b_fem33.33:conditionmd","b_fem33.33:conditionsd", "b_fem66.67:conditionmd", "b_fem66.67:conditionsd") ) %>% 
  rename("m_md" = "b_fem33.33:conditionmd", "m_sd" = "b_fem33.33:conditionsd", "f_md" = "b_fem66.67:conditionmd", "f_sd" = "b_fem66.67:conditionsd") %>% 
  mutate(categ_sd = f_md - m_md,
         categ_md = f_sd - m_sd)

hdi(post$categ_md)
mean(post$categ_md)

hdi(post$categ_sd)
mean(post$categ_sd)


```

```{r}
#| label = order-categorical
#tmp <- tmp %>% 
 # mutate(fem_ordered = recode(fem,
  #                            "0" = 1,
#                               "16.67" = 2,
#                               "33.33" = 3,
#                               "50" = 4,
#                               "66.67" = 5,
#                               "83.33" = 6,
#                               "100" = 7) %>% as.integer())
# 
# fit_dimensional_interaction_ordered <- 
# brm(f_rating ~ 0 + mo(fem_ordered):condition +  (1 + fem|id) + (1+fem|face), family = gaussian(link = 'identity'), 
#           prior = c(prior(normal(50,50), class = "b"),
#                     #prior(normal(0,3), class = "b", coef = "gbb_m"),
#                     prior(exponential(1), class = "sd"),
#                     prior(lkj(1), class = "cor"),
#                     prior(exponential(1), class = sigma),
#                     prior(dirichlet(2,2,2,2,2,2), class = simo, coef = "mofem_ordered:conditionmd1"),
#                     prior(dirichlet(2,2,2,2,2,2), class = simo, coef = "mofem_ordered:conditionsd1")),
#           data = tmp,
#           iter = 4000, warmup = 1000,
#           cores = 4,
#           sample_prior = TRUE,
#           file = "models/interaction_gbb_ordered")

```

To further test whether the faces were rated categorically, we calculated the difference between the mean ratings when facial gender was 33% and 67%. If participants respond linearly, this difference should be 34. Instead, in both the one-dimensional condition (*M*~1D~ = `r mean(post$categ_sd) %>% round(2)`, CI~1D~ = \[`r hdi(post$categ_sd) %>% round(2)`\]) and the two-dimensional condition (*M*~2D~ = `r mean(post$categ_md) %>% round(2)`, CI~2D~ = \[`r hdi(post$categ_md) %>% round(2)`\]) this difference far exceeded 34 and the narrow credible intervals suggest these measures were precisely estimated. We interpret this to mean that participants responded categorically.

Finally, we tested whether the categorical perception was reduced in the two-dimension condition compared to the one-dimension condition (Research Question 2). In other words, we calculated the mean difference between 67% faces and 33% faces and then computed the difference of differences between the two conditions. The results suggested that categorical perception was not reduced by two-dimensional response options (Difference = `r mean(post$categ_md-post$categ_sd) %>% round(2)`, CI = \[`r h_categ$hypothesis$CI.Lower %>% round(2)`, `r h_categ$hypothesis$CI.Upper %>% round(2)`\], BF~01~= `r h_categ$hypothesis$Evid.Ratio %>% round(2)`).

## Discussion

Participants responded categorically when rating faces in terms of gender. Additionally, two-dimensional response options did not reduce this effect. Indeed a binary view of gender was present and participants treated womanhood and manhood as opposites even though the scale would have allowed them to be more flexible. However, this scale only implicitly challenged the binary, as no diverse gender options were present.

# Study 2

Study 2 tested a wider range of response options that explicitly challenge the gender binary. These were adapted from common ways to measure participants' self-categorization of gender [@lindqvistWhatGenderAnyway2020; @sapersteinCategoricalGradationalAlternative2021].Subjects were randomly assigned to one of three response opotions conditions: 1) binary categories; 2) multiple categories 3) free text.

## Method

### Participants

```{r}
# Get subjects information
subs_exp2 <- d %>%
  filter(condition == "ft" | condition == "xb" | condition == "mc") %>% 
  mutate(age = as.numeric(Age_1),
         gender = substr(Gender_1, 1,1) ) %>% 
  count(id, age, gender, condition)

```

Swedish participants (*N* = `r length(subs_exp2$id)`) took part in the study at the Stockholm University campus (*M*~age~= `r mean(subs_exp2$age, na.rm = TRUE) %>% round(2)`, *SD*~age~ = `r sd(subs_exp2$age, na.rm = TRUE) %>% round(2)`, Range = `r min(subs_exp2$age, na.rm = TRUE)` - `r max(subs_exp2$age, na.rm = TRUE)`). Self-identified gender was measured using an open-ended text box. The final sample comprised 50 women, 47 men, and 3 participants who did not indicate gender. All participants were informed that participation was voluntary and all gave written consent to participate in the study. Participants were randomly allocated to one of the two response option conditions (*N*~binary~ = `r sum(subs_exp2$condition == "xb")`, *N*~multiple~ = `r sum(subs_exp2$condition == "mc")`, *N*~free_text~ = `r sum(subs_exp2$condition == "ft")`). Participants were monetarily compensated for their time (100 sek).

### Stimuli

The stimuli were identical to those of Study 1.

### Design and Procedure

The experiment used a between-participants design. There were three conditions with different response options: binary categories, free text, and multiple categories (see @fig-exp1-trial). In the *binary categories* condition, the response options consisted of two categories: woman and man. In the *free text* condition, the response options consisted of an open text box. In the *multiple categories* condition, the response options consisted of four categories: woman, man, other, and I don't know.

Participants completed the experiment on a computer in a quiet room. Each trial consisted of a face accompanied by the question, "How would you gender categorize this person?" Participants categorized 126 faces according to the response options in their condition.

![Sample trial from each of the three conditions](pix/exp1.png){#fig-exp1-trial}

The outcome was responses to the categorization task. For analysis purposes,two new variables were created.

*Other categorizations* represented the trials where participants categorized faces as "other". This was computed by dichotomizing the variable so other was coded as 1 and all other responses were coded as 0. In the free text condition, participants' responses were manually coded so that other and non-binary were counted as other.

*I don't know* responses represented trials where participants did not categorize any gender category. I don't know was coded as 1 and all other responses were coded as 0. In the free text condition, participants' responses were manually coded so that variations of unsure were counted as I don't know.

### Data analysis

Bayesian linear mixed effect models were fit to the data in study 2. These models were the same as in Study 1 apart from the outcome, which was binomial and accordingly had to be modeled as a binomial distribution.'

## Results

```{r  }
#| label: fig-desc-1
#| fig.cap: Gender Categorizations by Participants

# make figure 1
d %>%
  mutate(fem = fem ) %>% 
  filter(condition == "ft" | condition == "xb" | condition == "mc") %>% #select correct conditions
  filter(id != 124) %>% #misunderstood the task, categorized by race
  group_by(fem, race, condition) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  count(categorization) %>% 
  filter(!is.na(categorization))%>% 
  ggplot(aes(x=fem, y=n, fill=factor(categorization, levels = c("Man", "Other", "Don't know", "Woman")))) +
  geom_bar(stat="identity", position = "fill") + 
  #ggtitle("Gender Categorizations by Participants")+ 
  facet_wrap(~condition) + 
  scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
  scale_y_continuous(breaks =c(0, 0.17, 0.33, 0.50, 0.66, 0.83, 1)) +
  ylab("Proportion of responses" ) +
  xlab("Morph level") +
  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  scale_fill_manual( values = c("#D2B48C", "#FF5733", "#3498DB", "#FFDD88"))+
  guides(fill = guide_legend(title = "Categorization"))+
  geom_hline(yintercept=0.50, linetype="dashed", color = "darkgrey")+
  theme_pubclean()

```

```{r, include=FALSE}
#create dataframe with only free text and multiple categories conditions 
#Well, fist, first I wrangle data
tmp <- d %>% 
  filter(condition == "mc" | condition == "ft") %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman","femaile" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other","other" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ) )%>% 
  mutate(bbcat = ifelse(categorization == "Other"|categorization == "Don't Know", 1, 0),
         fem = as.factor(fem),
         nb = ifelse(categorization == "Other", 1, 0),
         fem = as.factor(fem),
         dk = ifelse(categorization == "Don't know", 1, 0),
         fem = as.factor(fem))
```

```{r, modelfit}
set.seed(123)

#fitting the interaction model
Interaction <- brm(bbcat ~ 0 + condition:fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
         prior = c(prior(normal(-3,3), class = "b"),
                   prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_int"
          )

```

```{r include = FALSE, message=FALSE, error=FALSE, warning=FALSE, include=FALSE}
#| label: fig-desc1
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5
library(ggpubr)
p <- tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  filter(sum_nb != 0 | sum_dk !=0)%>% 
  pivot_longer(cols = c(sum_nb, sum_dk),names_to = "Categorization", values_to = "N" ) %>% 
  mutate(N = as.numeric(N)) 

slp <- as.data.frame(p)

 # ggplot(p, aes(x = "N"))+
 # geom_bar(stat = "identity", width = 1)# , fill = "Categorization"), #Count the dk categorizations in each condition 
              
```

```{r  message=FALSE, error=FALSE, warning=FALSE}
#| label: fig-desc-nbo
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5

face_labels <- c("ft" = "Free Text", "mc" = "Multiple Categories")

library(ggpubr)
tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  mutate(#zeroes = ifelse(sum_dk ==0 & sum_nb ==0 , 0, NA),
         more_dk = ifelse(sum_dk >0, sum_dk, NA),
         more_nb = ifelse(sum_nb >0, sum_nb, NA) )%>% 
  pivot_longer(cols = c(more_dk, more_nb), names_to = "Categorization", values_to = "N") %>% 
  mutate(Categorization = recode(Categorization, "more_dk" = "Don't know", "more_nb" = "Other" )) %>% 
  ggplot(aes(x = N, fill = Categorization))+
  geom_bar( #Count the dk categorizations in each condition
               width = 0.6) +
  facet_wrap(~condition)+
  scale_x_continuous(name = "N Categorizations")+
  scale_y_continuous(name = "N Participants")+
  theme_pubclean() 
```

```{r  message=FALSE, error=FALSE, warning=FALSE}

  #geom_dotplot(aes(x = condition, y = more_nb, fill = "Other"), #Count the nb categorizations in each condition
     #          binaxis = "y",binwidth = 1, stackdir = "up",  
    #           stackratio =1, color = "#3498DB",
              # position = position_nudge(x = -0.05))+
 # scale_y_continuous(name = "N categorizations")+
 # coord_flip()+
  #scale_fill_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  #scale_color_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
 # theme_pubclean()


#geom_dotplot()
# tmp %>% group_by(id, condition) %>% 
#   #filter(condition == "mc") %>% 
#   summarise(sum_bbcat = sum(bbcat  ==1)) %>% 
#   arrange(sum_bbcat)%>% 
#   #mutate(id = seq_len(n())) %>% 
#   ggplot(aes(x = condition, y = sum_bbcat))+
#   geom_jitter(width = 0.02, alpha = 0.5, size = 2)+
#   scale_y_continuous(name = "N Beyond-Binary categorizations")+
#   #coord_flip()+
#   theme_classic()
```

```{r include=FALSE,message=FALSE, error=FALSE, warning=FALSE}
#| fig.cap: Responses of other and I don\'t know across the multiple categories and free text condiitons
#| fig-width: 6
#| fig-height: 4.5
library(ggpubr)
tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(sum_nb = sum(nb  ==1),
            sum_dk = sum(dk  ==1)) %>% 
  mutate(#zeroes = ifelse(sum_dk ==0 & sum_nb ==0 , 0, NA),
         more_dk = ifelse(sum_dk >0, sum_dk, NA),
         more_nb = ifelse(sum_nb >0, sum_nb, NA) )%>% 
  ggplot(aes(x = condition, y = zeroes))+
  geom_dotplot(aes(x = condition, y = more_dk, fill = "Don't Know"), #Count the dk categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "up", 
               stackratio =1, color = "#FF5733",
               position = position_nudge(x = 0.05)) +
  geom_dotplot(aes(x = condition, y = more_nb, fill = "Other"), #Cout the nb categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "up",  
               stackratio =1, color = "#3498DB",
               position = position_nudge(x = -0.05))+
  scale_y_continuous(name = "N categorizations")+
  coord_flip()+
  #scale_fill_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  #scale_color_manual(name = "Categorization", values = c("#FF5733", "#3498DB"))+
  theme_pubclean()


geom_dotplot()
# tmp %>% group_by(id, condition) %>% 
#   #filter(condition == "mc") %>% 
#   summarise(sum_bbcat = sum(bbcat  ==1)) %>% 
#   arrange(sum_bbcat)%>% 
#   #mutate(id = seq_len(n())) %>% 
#   ggplot(aes(x = condition, y = sum_bbcat))+
#   geom_jitter(width = 0.02, alpha = 0.5, size = 2)+
#   scale_y_continuous(name = "N Beyond-Binary categorizations")+
#   #coord_flip()+
#   theme_classic()
```

```{r}
#Fit models using brms.
#Can be run with premade file to save time. To reproduce in full, comment out the "file" argument
Null <- brm(bbcat ~ 1  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "Intercept"), # weakly regularizing priors
                    prior(cauchy(0,3), class = "sd")
                    ),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_null"
          )

#Fitting the main effects model
Main_Effect <- brm(bbcat ~ 0 + condition + fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "b", coef = "conditionmc"), #again, weakly regularizing priors
                    prior(normal(0,3), class = "b", coef = "conditionft"),
                    prior(cauchy(0,3), class = "sd")
                    ),
          data = tmp,
          iter = 4000, warmup = 1000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_mfx"
          )

#fitting the interaction model
Interaction <- brm(bbcat ~ 0 + condition:fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
         prior = c(prior(normal(-3,3), class = "b"),
                   prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/binary_int"
          )

```

```{r, calculating for tests, message =FALSE, error=FALSE}

#Testing the hypothesis using BRMS built in hypothesis function, which uses the savage-dickey density ratio. h0 compares the avearage in the multiple comoparisions condition to the average in the free text condition.
h0 <- hypothesis(Interaction,
                 "(conditionmc:fem16.67 + conditionmc:fem33.33 + conditionmc:fem0 + conditionmc:fem50 + conditionmc:fem66.67 + conditionmc:fem83.33 + conditionmc:fem100)/7 = (conditionft:fem16.67 + conditionft:fem33.33 + conditionft:fem0 + conditionft:fem50 + conditionft:fem66.67 + conditionft:fem83.33 +  conditionft:fem100)/7
                 ") 
#Testing the hypothesis using BRMS built in hypothesis function, which uses the savage-dickey density ratio. h1 compares the average in the multiple comparisons condition at facial femininity = 50 to free text at facial femininity = 50
h1 <- hypothesis(Interaction, "conditionmc:fem50=conditionft:fem50") 

#h2 assigns quadratic weights to both conditions. 
h2 <- hypothesis(Interaction, "(conditionmc:fem16.67*0 + conditionmc:fem33.33 *3 + conditionmc:fem0*(-5) + conditionmc:fem50*4 + conditionmc:fem66.67 *3 + conditionmc:fem83.33*0 + conditionmc:fem100*(-5))/84 = (conditionft:fem0*(-5) +conditionft:fem16.67 *0 + conditionft:fem33.33 *3  + conditionft:fem50 * 4 + conditionft:fem66.67 *3 + conditionft:fem83.33 *0+  conditionft:fem100 * (-5))/84 
                  ")


```

@fig-desc-1 illustrates the proportion of faces (y-axis) categorized according to the different conditions (different colors) at each level of facial gender (x-axis) across the three experimental conditions (separate plots). A visual inspection of Figure @fig-desc-1 suggests that most faces were categorized as women or men. However, participants did categorize faces outside of this binary in the multiple categories condition, as @fig-desc-1 shows, and most such categorizations were made in response to androgynous faces.

@fig-desc-1, however, only illustrates the total number of categorizations across all participants. This obscures the fact that some participants made many categorizations beyond the binary and some made few or none at all. @fig-desc-nbo illustrates how many categorizations beyond the binary participants made. Each bar represents how many participants (y-axis) made a certain number of categorizations (x-axis). The different colors denote the different categorizations. Participants who only categorized faces as women or men are not represented in the figure. In the Free Text condition, only two participants made any other categorization than woman and man, whereas more than half did so in the Multiple Categories condition (see @fig-desc-nbo ).The Bayesian mixed effects model suggested that participants made more categorizations beyond the binary in the multiple categories condition compared to the free text condition (OR = `r exp(h0$hypothesis$Estimate) %>% round(2)`, CI =\[`r exp(h0$hypothesis$CI.Lower)%>% round(2)`, `r exp(h0$hypothesis$CI.Upper) %>% round(2)`\], BF~10~= `r round(1/h0$hypothesis$Evid.Ratio , 2)`).

```{r warning = FALSE, message = FALSE, error = FALSE}
#| label: fig-cond
#| fig-cap: Alternative version of the previous figures

tmp %>% group_by(id, condition) %>% 
  #filter(condition == "mc") %>% 
  summarise(nb = sum(nb  ==1),
            dk = sum(dk  ==1),
            .groups = NULL) %>% 
  pivot_longer(cols = c(nb, dk), names_to = "outcome", values_to = "n") %>%
  ggplot(aes(x = outcome, y = n, fill = condition, color = condition)) +
  geom_dotplot( #Count the dk categorizations in each condition
               binaxis = "y",binwidth = 1, stackdir = "center", 
               stackratio =1, dotsize = 0.5)+
  theme_pubclean()+
  facet_wrap(~condition)
```

Inspection of @fig-desc-1 suggests that participants in multiple categories condition made fewer man categorizations than participants in the other two conditions. We tested this by examining only responses of woman or man. @fig-wtf illustrates proportions of responses of women and men. Each dot represents a single participant, and the position of the dots on the y axis shows the proportion of faces that each participant categorized as man; the boxplots show median and interquartile range proportion of faces categorized as men. Overall rates of binary categorizations were similar across the three conditions (see @fig-wtf).

```{r my-plot, fig.cap= "Participant Proportions for Categorizing Faces as Men Across Experimental Conditions"}
#| label: fig-wtf
#| fig-width: 12
#| fig-heigh: 6
#| fig-note: "Notches correspond to the Standard Error of the median"
#make figure 1
d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "ft"| condition == "mc" |condition == "xb") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 127) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  group_by(condition, id) %>% 
  count(categorization) %>% pivot_wider(id_cols = c(id, condition), names_from = categorization, values_from = n) %>% 
  mutate(total = Woman+Man) %>% 
  mutate(prop_m = Man/total*-100) %>% 
  ggplot(aes(x = condition, y = prop_m)) +
  geom_boxplot(notch = TRUE,  notchwidth = 0.8, varwidth = TRUE)+
  geom_jitter(width = 0.1)+
  theme_pubclean() +
  ylab("Percentage \"Man\" categorizations") + 
  xlab("Condition")
  
```

```{r descriptives-ft-prep, fig.cap= "Gender Categorizations by Participants"}

# make figure 1
ft <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "ft") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  filter(!is.na(categorization)) %>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))

summarized_data <- ft %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
ft <- merge(ft, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   # group_by(categorization) %>% 
  arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
 # ylab("Proportion of responses" ) +
  xlab("") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Free text")
```

```{r descriptives-mc-prep, fig.cap= "Gender Categorizations by Participants"}
mc <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "mc") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man"),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124 | 84) %>% 
  filter(categorization == "Woman" |categorization == "Man") %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  group_by(categorization) %>% 
  filter(!is.na(categorization))%>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))



summarized_data <- mc %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
mc  <- merge(mc, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
 # ylab("Proportion of responses" ) +
  xlab("") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Multiple Catgories")
```

```{r descriptives-xb-prep, fig.cap= "Gender Categorizations by Participants"}
xb <- d %>%
  mutate(id = factor(id) ) %>% 
  filter(condition == "xb") %>% #select correct conditions
  group_by(  id) %>% 
  mutate(categorization = recode(categorization,  #yes, this is pretty horrendous code, I haven't had a chance to sit down and clean it up yet.
                                 "1" = "Woman", "Woman" = "Woman", "wman" = "Woman", "woman" = "Woman", "female" = "Woman", "Female " = "Woman", "Female"= "Woman", "Fenale"= "Woman", "women" = "Woman", "woman " = "Woman", "femLE" = "Woman", "FEmale" = "Woman", "Femalw" = "Woman", "Fwmalw" = "Woman", "Female " = "Woman", "woman" = "Woman", "Woman" = "Woman", "feMale" = "Woman", "fermale" = "Woman", "wman" = "Woman", "Femae" = "Woman", "f" = "Woman", "F"= "Woman", "female " = "Woman",
                                 "2" = "Man", "man" = "Man","Male" = "Man", "male" = "Man", " Male" = "Man", "M" = "Man", "nmale" = "Man", "male " = "Man", "nale" = "Man", "ale" = "Man", "M" = "Man",  "m" = "Man", "MALE" = "Man",
                                 "3" = "Other", "Nonbinary" = "Other", "Non Binary " = "Other", "Non binary " = "Other",  "nonbinary" = "Other", "Non binary" = "Other", "non binary" = "Other", "unisex" = "other", 
                                 "4" = "Don't know" ),
         condition = recode(condition, "ft" = "Free text", "xb" = "Binary Categories", "mc" = "Multiple Categories"))%>% 
  filter(id != 124 | id !=84) %>% 
  count(categorization) %>% 
 # arrange(n) %>% 
  group_by(categorization) %>% 
  filter(!is.na(categorization)) %>% 
  mutate(Categorization =factor(categorization, levels = c("Woman", "Man")))



summarized_data <- xb %>%
  group_by(id) %>%
  summarize(total = sum(n))

# Merging summarized data back with the original data
xb  <- merge(xb, summarized_data, by = "id") %>% 
  mutate(prop = n/total) %>% 
   arrange(Categorization, desc(prop)) %>% 
  mutate(id = factor(id, levels = unique(id))) %>% 
  ggplot(aes(x=id, y=n, fill=Categorization)) +
  geom_bar(stat="identity", position = "fill") + 
 #ggtitle("Gender Categorizations by Participants")+
  #scale_x_continuous(breaks =c(0, 17, 33, 50, 66, 83, 100)) +
  #ylab("Proportion of responses" ) +
  xlab("id") +
  scale_fill_manual( values = c("#D2B48C",  "#FFDD88"))+

  #scale_fill_discrete(name = "Response") +
  #scale_fill_viridis_d(name = "Response")
  #scale_fill_grey( name = "Response")+
  coord_flip()+
  theme_minimal()+
  ggtitle("Binary Catgories")
```

```{r descriptivesy, fig.cap= "Binary Gender Categorizations by Participants in the three conditions (non-binary responses were excluded) "}
#library(ggpubr)
#ggarrange(xb, ft, mc, ncol = 3, common.legend = TRUE, legend="right", label.x = "Proportion of responses", label.y = "ID")
```

```{r, rq2-modelling 3, message=FALSE}
#remove the beyond binary responses
tmp <- d %>% 
  filter(condition == "mc"| condition == "xb"|condition == "ft" )%>% 
  mutate(categorization = recode(categorization, 
                                 "F" = "f", "kvinna" = "f", "female" = "f", "female " = "f", "Female"= "f", "Fenale"= "f", "women" = "f", "woman " = "f", "femLE" = "f", "FEmale" = "f", "Femalw" = "f", "Fwmalw" = "f", "Female " = "f", "woman" = "f", "Woman" = "f", "feMale" = "f", "fermale" = "f", "wman" = "f", "Femae" = "f",
                                 "man" = "m","Male " = "m", "make" = "m", "Male"= "m", "male" = "m", "man " = "m",  "male " = "m", "guy" = "m", "boy" = "m", "Make" = "m", "M"  = "m", "Man" = "m", "Bottom half male; above nose female., Would have to say Male" = "m", " male" = "m", "male  " = "m", "ale" = "m", "nmale" = "m", "MALE"= "m", "nale"= "m", " Male" = "m",
                                 "Nonbinary" = "o", "Non Binary " = "o", "Unsure" = "o", "Non binary " = "o", "good" = "o", "Neutral" = "o", "neutral" = "o", "nonbinary" = "o", "bigender" = "o", "hen" = "o", "don't know"  = "o", 
                                 "1" = "f", "2" = "m")) %>% 
  mutate(f_cat = ifelse(categorization == "f"|categorization == "m", categorization, NA)) %>% 
  mutate(f_cat =as.numeric( f_cat == "f"))

#Start fitting the null model
Null <- brm(f_cat ~ 1  + (1 + fem |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "Intercept"),
                    prior(exponential(2), class = "sd")
                    ),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_mf_null.1"
          )


#Main effects model
main_effects <- brm(f_cat ~ 0 + condition + fem  + (1 |id) + (1|face:fem), family = bernoulli(link = 'logit'), 
          prior = c(prior(normal(0,3), class = "b"),
                    prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 4000, warmup = 1000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/mainfx.2"
          )

tmp$fem_s = tmp$fem - 50
tmp$cond <- factor(tmp$condition, levels = c("xb", "ft", "mc"))
#Lastly the interaction model
interaction <- brm(f_cat ~ 0 + condition * condition:fem_s  + (1 + fem_s |id) + (1 + fem_s |face), family = bernoulli(link = 'logit'), 
         prior = c(prior(normal(0,3), class = "b"),
                   prior(cauchy(0,3), class = "sd")),
          data = tmp,
          iter = 6000, warmup = 2000,
          chains = 4,
          cores = 4,
          sample_prior = TRUE,
          file = "models/fit_mf_int.6"
          )

```

```{r hypos 2}

#Test contrasts
h0 <- hypothesis(interaction, "conditionxb = conditionmc")
h1 <- hypothesis(interaction, "conditionxb = conditionft")

h2 <- hypothesis(interaction, "conditionxb:fem_s = conditionmc:fem_s")
h3 <- hypothesis(interaction, "conditionxb:fem_s = conditionft:fem_s")


```

We treated the binary categories condition as the control against which the other two conditions were compared. The results suggested that the proportion of faces categorized as women was similar in the Multiple Categories and Binary Categories conditions (OR = `r exp(h0$hypothesis$Estimate) %>% round(2)`, CI =\[`r exp(h0$hypothesis$CI.Lower)%>% round(2)`, `r exp(h0$hypothesis$CI.Upper )%>% round(2)`\], BF~01~= `r round(h0$hypothesis$Evid.Ratio , 2)`). The results suggested that the proportion of faces categorized as women was the same in the Free text and Binary Categories condition (OR = `r exp(h1$hypothesis$Estimate) %>% round(2)`, CI =\[`r exp(h1$hypothesis$CI.Lower)%>% round(2)`, `r exp(h1$hypothesis$CI.Upper) %>% round(2)`\], BF~01~= `r round(h1$hypothesis$Evid.Ratio , 2)`). In sum, neither the free text nor the multiple categories condition changed the pattern of categorization of women and men compared to the binary categories condition.

## Discussion

In Experiment 2, we tested how free text options and multiple categories affected participants' responses beyond the binary. Some participants made some categorizations beyond the binary in the multiple categories condition, but virtually none did so in the free text condition. Furthermore, additional response options reduced the absolute number of faces categorized as women and men (as participants selected some of the other options) but did systematically reduce categorizations of men more than women or vice versa.

# General Discussion

Across two experiments, we tested how different response options influenced gender categorization. In Study 1, we compared two-dimensional scales with one-dimensional controls. We found that participants responded categorically, and this was the case in both the control condition and the two-dimensional condition. In Study 2, we compared free text and multiple categories. We found that only multiple categories elicited beyond-binary responses. Compared to binary control, neither changed the pattern of categorizations of women and men.

The results from Study 1 are consistent with previous work on categorical perception of gender in faces [@campanellaCategoricalPerceptionFacial2001; @campanellaCategoricalPerceptionUnfamiliar2003]. Participants exhibited a categorical pattern of responses where ratings of gender were more extreme than the facial gender. This implies that participants had a conception of gender as consisting of two distinct categories. Furthermore, the two-dimensional ratings did not reduce the strength of the categorical effect. This suggests that, at least in the present sample, two-dimensional response options were not enough to reduce the binary gender norms.

This differs slightly from the results of @bemMeasurmentPsychologicalAndrogyny1974, who found that measuring gender as two separate scales led participants to treat gender as less binary. Moreover, where she found that masculinity and femininity were largely unrelated, we found that ratings of woman and man were strongly correlated. This is probably accounted for by the differences in outcome measures in @bemMeasurmentPsychologicalAndrogyny1974 and in our study. @bemMeasurmentPsychologicalAndrogyny1974 measured gender as a psychological trait in the self, whereas we measured gender as a judgment of the gender identity of others. The latter outcome is not only determined by the response options, but also by the physical features of the faces. In other words, judging the faces of others is a different task from judging one's own characteristics, and one of the primary differences is the increase in external stimuli and influences.

The finding from Study 2 that participants use non-binary response options is consistent with the work of @sapersteinCategoricalGradationalAlternative2021 and @lindqvistWhatGenderAnyway2020, which has shown that including flexible response options allows participants to better express themselves. A recommendation from that literature is that open text boxes afford participants the greatest flexibility in their responses. In our study that flexibility was rarely used when the response options consisted of a free text. This likely reflects the difference between transgender and gender-diverse participants categorizing their own gender and cisgender participants categorizing others.

A probable explanation for the difference between free text and multiple categories in Study 2 is that the multiple categories served as a visual reminder of non-binary identity. Researchers interested in the categorization of non-binary identity should be aware that these may not spring to mind unless participants are explicitly reminded of them.

Neither free text nor multiple categories influenced the categorizations of women and men. This suggests that such inclusive response options can be suitable for investigating the categorization of women and men without skewing the results or introducing noise. This is a positive finding for researchers who are primarily interested in such categorizations but do not want to contribute to the marginalization of trans and non-binary individuals.

Overall, we recommend researchers include non-binary response options in gender categorization studies. Multiple dimensions, free text, and multiple categories and continua are all viable alternatives. If the primary research question is to investigate non-binary categorization, then multiple categories are most suitable. However, if the goal is to measure the categorization of women and men, free text or multiple categories may be equally suitable.

## Limitations and future directions

One limitation of this study is the sample size. The *N*s in each condition are below many of the conventional recommendations in social psychology. However, these recommendations are typically made based on the assumption of a single trial per participant. In contrast, each participant completed 126 trials in our experiment. This allows for precise detailing of the within-participant processes. As such, the present study resembles psychophysical experiments, which also feature few participants carrying out many trials. Power is often portrayed as a function of sample size, and this is true, the number of trials is also a factor in power [@juddExperimentsMoreOne2017]. Indeed, the overall analyses included more than 8000 data points in each experiment, and the final estimates were measured with a high degree of precision. That said, we note that the generalizability of the experiment is somewhat reduced.

Another limitation of this study is that it does not account for the influence of markers of gender other than faces. Such markers include hair, clothes, and makeup and Transgender and gender diverse often use such markers to signal their gender to others. Moreover, the faces used here were not "realistic" in that they did not realistically depict gender diversity as it is often displayed in the real world. In that sense, it is possible that we underestimate the rates of people responding with one of the options beyond the binary.

## Conclusion

In two studies, we tested how different response alternatives affected gender categorizations. In Study 1, participants responded categorically to the faces, both when rating gender using one-dimensional and two-dimensional scales. This suggests that participants generally had a binary conception of gender, which was not influenced by response options. In Study 2, participants were more likely to categorize faces beyond the binary when using multiple categories, including non-binary and I don't know than when using a free text option. In comparison to self-identification questions, where open-ended responses are seen as the most inclusive alternative [@lindqvistWhatGenderAnyway2020], the categorization of others benefits from response options that explicitly remind participants that not all people identify as women or men.

\newpage

# References

::: {#refs custom-style="Bibliography"}
:::
