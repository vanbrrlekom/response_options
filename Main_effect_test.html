<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>response options</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Main_effect_test_files/libs/clipboard/clipboard.min.js"></script>
<script src="Main_effect_test_files/libs/quarto-html/quarto.js"></script>
<script src="Main_effect_test_files/libs/quarto-html/popper.min.js"></script>
<script src="Main_effect_test_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Main_effect_test_files/libs/quarto-html/anchor.min.js"></script>
<link href="Main_effect_test_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Main_effect_test_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Main_effect_test_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Main_effect_test_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Main_effect_test_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="Main_effect_test_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="Main_effect_test_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">response options</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="recap" class="level4">
<h4 class="anchored" data-anchor-id="recap">Recap</h4>
<p>I’m going to quote myself from the previous notebook that I wrote, to describe the main thrust of the experiment. &gt;“So for the experiment, we produced morphed faces of different levels of femininity and masculinity. There were 18 continua, where gender varied in seven increments, for a total of 126 faces.</p>
<blockquote class="blockquote">
<p>There were five response options conditions:</p>
</blockquote>
<blockquote class="blockquote">
<ol type="1">
<li>binary categories - man/woman</li>
<li>multiple categories - man/woman/other/don’t know</li>
<li>Freetext - a free text box</li>
<li>binary dimension - woman ——- man on a slider</li>
<li>multiple dimensions - woman / man on separate sliders.</li>
</ol>
</blockquote>
<p>At the previous meeting, we decided that i would look at answering the auestion “do people use non-binary options when they have them?”</p>
<p>The way I’ve gone about doing that is by primarily comparing option 2 and option 3 from above.</p>
<div class="cell">

</div>
</section>
<section id="do-people-use-the-beyond-binary-options" class="level3">
<h3 class="anchored" data-anchor-id="do-people-use-the-beyond-binary-options">Do people use the beyond-binary options?</h3>
<section id="main-effects" class="level4">
<h4 class="anchored" data-anchor-id="main-effects">Main effects</h4>
<p>The way I went about testing that is by comparing the amount of beyond-binary (i.e.&nbsp;“other” and “I don’t know” responses) across the free text and multiple categories conditions.</p>
<p>So how do we actually test this? We can construct several models which gets increasingly more complicated and compare how well they predict the data. So we start with a null model, m<sub>0</sub>, which just has an intercept, and includes neither morph level or condition. For reference, it looks like this, but feel free to let your eyes glaze over it. (but in case your curious, the model includes random effects for subjects and faces, but nothing else)</p>
<p><span class="math display">\[
\begin{aligned}
\text{beyond-binary}_{i} &amp;\sim \mathrm{Binomial}(1,p) &amp;  (1) \\
\text{logit}(p_i)&amp;= \alpha_{subject[i]} +\alpha_{face[i]}\\
\alpha_{face} &amp; \sim \mathrm{Normal(0, \sigma_{subject})}\\
\alpha_{subject} &amp;\sim \mathrm{Normal}(0, \sigma_{subject}) \\
\sigma_{face} &amp;\sim \mathrm{HalfCauchy}(3) \\
\sigma_{subject} &amp;\sim \mathrm{HalfCauchy}(3) \\
\end{aligned}
\]</span></p>
<p>Then m<sub>1</sub> adds fixed effect of condition and morph level. We can think about this as basically testing just the main effect of both condition (written out as <span class="math inline">\(\gamma_{cid}\)</span>) and morph level (<span class="math inline">\(\beta_1Morph_{i}\)</span>), but not the interaction (which we’ll get to later). <span class="math inline">\(cid\)</span> is short for condition id, which means that this model calculates separate values for each condition, as opposed to a dummy variable, which would calculate the value (intercept) for one condition and then the difference of another condition. Here we just get values for each condition, and if we want to know the difference, we have to calculate it ourselves.</p>
<p>To add another level of complexity, we can make a third model m<sub>2</sub> which includes the effects of both response option condition and morph level.</p>
<p><span class="math display">\[
\begin{aligned}
\text{beyond-binary}_{i} &amp;\sim \mathrm{Binomial}(1,p) &amp; (2) \\
\text{logit}(p_i)&amp;= \gamma_{cid[i]}+ \alpha_{subject[i]} + \beta_{[1]}Morph_{i}+ \alpha_{face[i]}\\
\gamma_{cid} &amp;\sim \mathrm{Normal}(0,3)\\
\alpha_{subject} &amp;\sim \mathrm{Normal}(0, \sigma_{subject}) \\
\beta_{1} &amp; \sim \mathrm{Normal}(0,3)\\
\sigma_{face} &amp;\sim \mathrm{HalfCauchy}(3) \\
\alpha_{subject} &amp;\sim \mathrm{HalfCauchy}(3) \\
\sigma_{\gamma_{pronoun}}&amp;\sim \mathrm{HalfCauchy}(3) \\
\textbf{R} &amp;\sim \mathrm{LKJcorr}(2) \\
\end{aligned}
\]</span></p>
<p>Lastly, m<sub>3</sub> includes the full interaction effect. Note that all we’ve really done is changed <span class="math inline">\(\beta\)</span> by also adding the <span class="math inline">\(cid\)</span> subscript. What that means is that we’re calculating a unique effect of morph level for each condition. Again, the model doesn’t include an <em>explicit</em> interaction term (which, in standard notation, be the difference between the a reference condition and another condition), but we can calculate it later. And we will, don’t worry!</p>
<p><span class="math display">\[
\begin{aligned}
\text{beyond-binary}_{i} &amp;\sim \mathrm{Binomial}(1,p) &amp; (3) \\
\text{logit}(p_i)&amp;= \gamma_{cid[i]}+ \alpha_{subject[i]} + \beta_{cid[i]}Morph+ \alpha_{face[i]}\\
\gamma_{cid} &amp;\sim \mathrm{Normal}(0,3),\: \text{for}\: cid =\text{ft, mc}\\
\alpha_{subject} &amp;\sim \mathrm{Normal}(0, \sigma_{subject}) \\
\beta_{cid} &amp; \sim \mathrm{Normal}(0,3),\: \text{for}\: cid =\text{ft, mc}\\
\sigma_{face} &amp;\sim \mathrm{HalfCauchy}(3) \\
\sigma_{subject} &amp;\sim \mathrm{HalfCauchy}(3) \\
\sigma_{\gamma_{pronoun}}&amp;\sim \mathrm{HalfCauchy}(3) \\
\textbf{R} &amp;\sim \mathrm{LKJcorr}(2) \\
\end{aligned}
\]</span></p>
<div class="cell">

</div>
<p>Having fit all of these models I then compare them to see which best predicts the data. We do this using a method call leave-one-out cross validation. This tells us which of our five models best predict the data on “new” or out of sample data points? If I can get the machine to work, this should show up in table 1</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>This is loo version 2.5.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>- Online documentation and vignettes at mc-stan.org/loo</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>- As of v2.0.0 loo defaults to 1 core but we recommend using as many as possible. Use the 'cores' argument or set options(mc.cores = NUM_CORES) for an entire session. </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>loo_table[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   elpd_diff  se_diff  elpd_loo se_elpd_loo
m2   0.00000 0.000000 -234.1687    23.22915
m1  -2.45918 2.712255 -236.6279    23.07188
m0 -18.48732 6.017428 -252.6560    24.48897</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  loo_table[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">booktabs =</span> <span class="st">"TRUE"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#format = "latex",</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"LOO difference"</span>, <span class="st">"St. Error diff"</span>, <span class="st">"LOO"</span>, <span class="st">"St. Error LOO"</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#row.names = c("Free text", "Multiple categories", "Binary categories"),</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Relative predictive power of models describing the outcome on the categorization task"</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">general_title =</span> <span class="st">"Note."</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">general =</span> <span class="st">"LOO diff refers to the difference in loo between the model and the most predictive model. The first row describes the most predictive model, which is why the difference is 0"</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">threeparttable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">footnote_as_chunk =</span> <span class="cn">TRUE</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<caption>Relative predictive power of models describing the outcome on the categorization task</caption>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:left;"> LOO difference </th>
   <th style="text-align:center;"> St. Error diff </th>
   <th style="text-align:center;"> LOO </th>
   <th style="text-align:center;"> St. Error LOO </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> m2 </td>
   <td style="text-align:left;"> 0.00 </td>
   <td style="text-align:center;"> 0.00 </td>
   <td style="text-align:center;"> -234.17 </td>
   <td style="text-align:center;"> 23.23 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> m1 </td>
   <td style="text-align:left;"> -2.46 </td>
   <td style="text-align:center;"> 2.71 </td>
   <td style="text-align:center;"> -236.63 </td>
   <td style="text-align:center;"> 23.07 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> m0 </td>
   <td style="text-align:left;"> -18.49 </td>
   <td style="text-align:center;"> 6.02 </td>
   <td style="text-align:center;"> -252.66 </td>
   <td style="text-align:center;"> 24.49 </td>
  </tr>
</tbody>
<tfoot><tr><td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note.</span> <sup></sup> LOO diff refers to the difference in loo between the model and the most predictive model. The first row describes the most predictive model, which is why the difference is 0</td></tr></tfoot>
</table>

</div>
</div>
<p>Table 1. suggests that the interaction models was the best at predicting data, suggesting that the interaction between condition and morph is an important determinant of the outcome. However, the comparatively large standard errors suggests that this effect is only inconclusively supported by the data.</p>
</section>
<section id="interaction-effects" class="level4">
<h4 class="anchored" data-anchor-id="interaction-effects">Interaction effects</h4>
<p>I’m going to forge ahead anyway, and do what we might think of as contrast analyses, focusing on m<sub>3</sub> only. Here we have several specific questions that we want answered. First, is it really the case that people generally make more beyond-binary categorizations in the mc condition? And secondly, is this effect concentrated at 50/50 morph level.</p>
<div class="cell">

</div>
<p>I’m going to give these hypothesis some arbitrary numbers.</p>
<p>First, if we just look at the number of beyond-binary categorizations, do particpants make beyond-binary categorizations in the multiple categories condition compared to the free text condition (h0)? It seems they do (Estimate = -3.9333287, CI =-6.7644887 - -1.2764307, BF<sub>10</sub>= 1 38.0699566). Second, if we focus on the 50/50 faces, do we still see an effect? It seems like we do (Estimate = -4.1417725, CI =-7.4333904 - -1.4049333, BF<sub>10</sub>= 1 16.8425578). And if we focus on the faces at the end of the spectrum? Here the evidence is only inconclusive (Estimate = -2.6029486, CI =-7.9642039 - 2.4904548, BF<sub>10</sub>= 1 0.8353373). What does this mean?</p>
<p>Great, let’s move on to the step 2 that we talked about. We start by getting a dataset with just the f and m ratings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(condition <span class="sc">==</span> <span class="st">"mc"</span><span class="sc">|</span> condition <span class="sc">==</span> <span class="st">"xb"</span><span class="sc">|</span>condition <span class="sc">==</span> <span class="st">"ft"</span> )<span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">categorization =</span> <span class="fu">recode</span>(categorization, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"F"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"kvinna"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"female"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"female "</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Female"</span><span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Fenale"</span><span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"women"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"woman "</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"femLE"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"FEmale"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Femalw"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Fwmalw"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Female "</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"woman"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Woman"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"feMale"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"fermale"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"wman"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"Femae"</span> <span class="ot">=</span> <span class="st">"f"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"man"</span> <span class="ot">=</span> <span class="st">"m"</span>,<span class="st">"Male "</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"make"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"Male"</span><span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"male"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"man "</span> <span class="ot">=</span> <span class="st">"m"</span>,  <span class="st">"male "</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"guy"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"boy"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"Make"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"M"</span>  <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"Man"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"Bottom half male; above nose female., Would have to say Male"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">" male"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"male  "</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"ale"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"nmale"</span> <span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"MALE"</span><span class="ot">=</span> <span class="st">"m"</span>, <span class="st">"nale"</span><span class="ot">=</span> <span class="st">"m"</span>, <span class="st">" Male"</span> <span class="ot">=</span> <span class="st">"m"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Nonbinary"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"Non Binary "</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"Unsure"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"Non binary "</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"good"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"Neutral"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"neutral"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"nonbinary"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"bigender"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"hen"</span> <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"don't know"</span>  <span class="ot">=</span> <span class="st">"o"</span>, <span class="st">"Bottom half male, nose upwards female"</span> <span class="ot">=</span> <span class="st">"o"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"f"</span>, <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"m"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">g_cat =</span> <span class="fu">ifelse</span>(categorization <span class="sc">==</span> <span class="st">"f"</span><span class="sc">|</span>categorization <span class="sc">==</span> <span class="st">"m"</span>, categorization, <span class="cn">NA</span>),</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">fem =</span> <span class="fu">as.factor</span>(fem)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">g_cat =</span> g_cat <span class="sc">==</span> <span class="st">"f"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we’ll do the same with progressively more complex models</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fit_b_null <span class="ot">&lt;-</span> <span class="fu">brm</span>(g_cat <span class="sc">~</span> <span class="dv">1</span>  <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>face<span class="sc">:</span>fem), <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">'logit'</span>), </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">prior =</span> <span class="fu">c</span>(<span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">prior</span>(<span class="fu">exponential</span>(<span class="dv">2</span>), <span class="at">class =</span> <span class="st">"sd"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                    </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                    <span class="co">#prior(normal(0,3), class ="b", coef= "conditionmc:fem"),</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                    <span class="co">#prior(normal(0,3), class = "b", coef = "conditionft")</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                    <span class="co">#prior(normal(0,3), class ="b", coef= "conditionft:fem")</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                    ),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> tmp,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">iter =</span> <span class="dv">6000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">sample_prior =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"models/fit_b_null.2"</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>fit_b_cond <span class="ot">&lt;-</span> <span class="fu">brm</span>(g_cat <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> condition  <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>face<span class="sc">:</span>fem), <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">'logit'</span>), </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">prior =</span> <span class="fu">c</span>(<span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"b"</span>),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">prior</span>(<span class="fu">exponential</span>(<span class="dv">1</span>), <span class="at">class =</span> <span class="st">"sd"</span>)),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> tmp,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>          <span class="at">iter =</span> <span class="dv">6000</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>          <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>          <span class="at">sample_prior =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"models/fit_g_cond1"</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>fit_b_cond_fem <span class="ot">&lt;-</span> <span class="fu">brm</span>(g_cat <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> condition <span class="sc">+</span> fem  <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>face<span class="sc">:</span>fem), <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">'logit'</span>), </span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">prior =</span> <span class="fu">c</span>(<span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"b"</span>),</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">prior</span>(<span class="fu">exponential</span>(<span class="dv">1</span>), <span class="at">class =</span> <span class="st">"sd"</span>)),</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> tmp,</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">iter =</span> <span class="dv">4000</span>, <span class="at">warmup =</span> <span class="dv">1000</span>,</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>          <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>          <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>          <span class="at">sample_prior =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"models/fit_b_cond_fem"</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>fit_b_cond_fem_int <span class="ot">&lt;-</span> <span class="fu">brm</span>(g_cat <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> condition<span class="sc">:</span>fem  <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>face<span class="sc">:</span>fem), <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">'logit'</span>), </span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">prior =</span> <span class="fu">c</span>(<span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"b"</span>),</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">prior</span>(<span class="fu">exponential</span>(<span class="dv">1</span>), <span class="at">class =</span> <span class="st">"sd"</span>)),</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> tmp,</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>          <span class="at">iter =</span> <span class="dv">6000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>,</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>          <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>          <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>          <span class="at">sample_prior =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"models/fit_g_cond_fem_int"</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>fit_b_fem <span class="ot">&lt;-</span> <span class="fu">brm</span>(g_cat <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> fem  <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>face<span class="sc">:</span>fem), <span class="at">family =</span> <span class="fu">bernoulli</span>(<span class="at">link =</span> <span class="st">'logit'</span>), </span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">prior =</span> <span class="fu">c</span>(<span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"b"</span>),</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">prior</span>(<span class="fu">normal</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">class =</span> <span class="st">"Intercept"</span>),</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">prior</span>(<span class="fu">exponential</span>(<span class="dv">1</span>), <span class="at">class =</span> <span class="st">"sd"</span>)),</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>          <span class="at">data =</span> tmp,</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>          <span class="at">iter =</span> <span class="dv">6000</span>, <span class="at">warmup =</span> <span class="dv">2000</span>,</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>          <span class="at">chains =</span> <span class="dv">4</span>,</span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>          <span class="at">cores =</span> <span class="dv">4</span>,</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>          <span class="at">sample_prior =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"models/fit_g_fem"</span></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>          )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We’re going to do the same thing again, we’re going to start buy looking at whether the interaction model does better than the simple effects model, and then we’re going to look at the actual effects within the model. Buuut. It doesn’t seem lik it does much here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>loo_b1 <span class="ot">&lt;-</span> <span class="fu">loo</span>(fit_b_null, <span class="at">mc_cores =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Found 16 observations with a pareto_k &gt; 0.7 in model 'fit_b_null'. It
is recommended to set 'moment_match = TRUE' in order to perform moment matching
for problematic observations.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>loo_b2 <span class="ot">&lt;-</span> <span class="fu">loo</span>(fit_b_cond, <span class="at">mc_cores =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Found 15 observations with a pareto_k &gt; 0.7 in model 'fit_b_cond'. It
is recommended to set 'moment_match = TRUE' in order to perform moment matching
for problematic observations.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>loo_b3<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">loo</span>(fit_b_fem, <span class="at">mc_cores =</span> <span class="dv">4</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>loo_b3 <span class="ot">&lt;-</span> <span class="fu">loo</span>(fit_b_cond_fem, <span class="at">mc_cores =</span> <span class="dv">4</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>loo_b4 <span class="ot">&lt;-</span> <span class="fu">loo</span>(fit_b_cond_fem_int, <span class="at">mc_cores =</span> <span class="dv">4</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">loo_compare</span>(loo_b1, loo_b2, loo_b3, loo_b3<span class="fl">.5</span>, loo_b4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   elpd_diff se_diff
fit_b_fem           0.0       0.0   
fit_b_cond_fem     -1.1       0.9   
fit_b_cond         -4.6       5.0   
fit_b_null         -5.3       5.1   
fit_b_cond_fem_int -6.1       3.0   </code></pre>
</div>
</div>
<p>Okay, I took a peek at the data and it really doesn’t like like anything to me. By which i mean that it doesn’t look like we can say with certainty that any gender category is being shaved of at all. So it doesn’t seem like any of these models add much that the the null doesn’t</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>